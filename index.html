<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Grade My Finance | Free Financial Grade Calculator</title>
  <meta name="description" content="Get a free financial health grade in seconds. Enter your income, expenses, assets, and debts to see your report card, tips, and projections. No sign-up required.">
  <meta name="theme-color" content="#0f172a">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://grademyfinance.com/" />
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!-- Google Analytics 4 (kept) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H6223HYVS6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-H6223HYVS6', { 'anonymize_ip': true });
    window.__track = (ev, p={})=>{ try{ gtag('event', ev, p); }catch(e){} };
  </script>

  <!-- Libraries (small, CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js" defer></script>

  <style>
    :root{
      --bg:#0b1220;--bg-soft:#0f172a;--card:#111827;--muted:#64748b;--text:#e5e7eb;--accent:#38bdf8;--accent-2:#34d399;--warn:#f59e0b;--bad:#ef4444;--good:#22c55e;--ring:#60a5fa;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,var(--bg) 0%,var(--bg-soft) 100%);color:var(--text);font:400 16px/1.5 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased}
    a{color:var(--accent)}
    .container{max-width:1100px;margin:auto;padding:24px}
    header{display:flex;align-items:center;gap:12px}
    .logo{width:40px;height:40px;border-radius:10px;background:#1f2937;display:grid;place-items:center;box-shadow:0 8px 20px rgba(0,0,0,.25)}
    .logo svg{width:28px;height:28px}
    h1{font-size:clamp(24px,4vw,36px);margin:0}
    .sub{color:var(--muted)}

    .grid{display:grid;gap:16px;grid-template-columns:1fr;}
    @media(min-width:900px){.grid{grid-template-columns:1.1fr .9fr}}

    .card{background:linear-gradient(180deg,#0f172a 0%,#0b1220 100%);border:1px solid #1f2937;border-radius:16px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .card h2{margin:0 0 8px;font-size:20px}
    label{display:block;margin:8px 0 4px;color:#a3b2c7}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    input[type="number"],input[type="text"],input[type="email"],select{width:100%;padding:12px 14px;border-radius:12px;border:1px solid #22314b;background:#0b1220;color:var(--text)}
    input[type="checkbox"]{transform:scale(1.2)}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:12px 16px;border-radius:12px;background:linear-gradient(90deg,#22c55e,#34d399);color:#06240f;border:0;font-weight:700;cursor:pointer}
    .btn.secondary{background:#16233c;color:#cbd5e1;border:1px solid #22314b}
    .btn.ghost{background:transparent;border:1px solid #22314b;color:#cbd5e1}
    .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}

    /* Report Card */
    .report{display:grid;gap:12px}
    .report-header{display:flex;justify-content:space-between;align-items:center}
    .grade-badge{font-size:48px;font-weight:900;line-height:1;letter-spacing:-2px;padding:8px 14px;border-radius:16px;background:linear-gradient(120deg,#22c55e,#10b981,#34d399);color:#052b19;box-shadow:inset 0 0 0 3px rgba(255,255,255,.2)}
    .subgrades{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
    .sg{background:#0b1220;border:1px solid #22314b;border-radius:12px;padding:10px}
    .sg h4{margin:0 0 6px;color:#cbd5e1;font-size:12px;text-transform:uppercase;letter-spacing:.06em}
    .progress{height:8px;background:#152036;border-radius:999px;overflow:hidden}
    .progress>i{display:block;height:100%;background:linear-gradient(90deg,#38bdf8,#34d399)}
    .thermo{--p:0;position:relative;height:10px;background:#0a0f1d;border-radius:999px;overflow:hidden}
    .thermo::after{content:"";position:absolute;inset:0;width:calc(var(--p)*1%);background:linear-gradient(90deg,#ef4444,#f59e0b,#22c55e)}

    /* Charts */
    .charts{display:grid;grid-template-columns:1fr;gap:12px}
    @media(min-width:700px){.charts{grid-template-columns:1fr 1fr}}
    canvas{width:100%;height:auto}

    /* Tips */
    .tips{display:grid;gap:8px}
    .tip{background:#0b1220;border:1px dashed #22314b;border-radius:12px;padding:10px}

    /* Toast */
    .toast{position:fixed;left:50%;bottom:20px;transform:translateX(-50%) translateY(40px);background:#111827;border:1px solid #22314b;color:#e5e7eb;padding:10px 14px;border-radius:10px;opacity:0;transition:.25s;z-index:60}
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

    /* Sticky mobile CTA */
    .sticky-cta{position:fixed;bottom:10px;left:12px;right:12px;display:none;z-index:50}
    @media(max-width:780px){.sticky-cta{display:block}}

    /* Print for PDF export */
    @media print{
      body{background:#fff}
      .no-print{display:none !important}
      .card{border:1px solid #e5e7eb;background:#fff;color:#111}
      .grade-badge{box-shadow:none}
    }

    /* Reduce motion support */
    @media (prefers-reduced-motion: reduce){
      *{scroll-behavior:auto !important;animation:none !important;transition:none !important}
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="no-print">
      <div class="logo" aria-hidden="true" title="Grady the Owl">
        <!-- Grady: simple owl mark -->
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M12 3c4.97 0 9 3.582 9 8v6a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-6c0-4.418 4.03-8 9-8Z" fill="#1f2937"/>
          <circle cx="8.5" cy="11" r="2.5" fill="#fff"/><circle cx="15.5" cy="11" r="2.5" fill="#fff"/>
          <circle cx="8.5" cy="11" r="1.2" fill="#111827"/><circle cx="15.5" cy="11" r="1.2" fill="#111827"/>
          <path d="M12 12.2 14 14l-2 1.6L10 14l2-1.8Z" fill="#f59e0b"/>
        </svg>
      </div>
      <div>
        <h1>Grade My Finance</h1>
        <div class="sub">Free, instant financial grade with tips, charts & shareable PDF.</div>
      </div>
    </header>

    <main class="grid">
      <!-- INPUTS -->
      <section class="card" aria-labelledby="inputs-title">
        <h2 id="inputs-title">Your Info</h2>
        <div class="row">
          <div>
            <label for="income">Monthly Income ($)</label>
            <input id="income" type="number" inputmode="decimal" pattern="[0-9]*" placeholder="5000" />
          </div>
          <div>
            <label for="expenses">Monthly Expenses ($)</label>
            <input id="expenses" type="number" inputmode="decimal" pattern="[0-9]*" placeholder="4000" />
          </div>
          <div>
            <label for="assets">Total Assets ($)</label>
            <input id="assets" type="number" inputmode="decimal" pattern="[0-9]*" placeholder="75000" />
          </div>
          <div>
            <label for="debts">Total Debts ($)</label>
            <input id="debts" type="number" inputmode="decimal" pattern="[0-9]*" placeholder="25000" />
          </div>
        </div>
        <div class="row">
          <div>
            <label for="savingsRate">Savings Rate (% of income)</label>
            <input id="savingsRate" type="number" inputmode="decimal" placeholder="10" />
          </div>
          <div>
            <label for="retCntr">Retirement Balance ($)</label>
            <input id="retCntr" type="number" inputmode="decimal" placeholder="60000" />
          </div>
        </div>
        <div class="actions">
          <button class="btn" id="calcBtn">Get My Report Card</button>
          <button class="btn secondary" id="shareBtn" aria-describedby="toast">Copy share link</button>
          <button class="btn ghost" id="pdfBtn" title="Print or Save to PDF">Download PDF</button>
        </div>
        <div style="margin-top:10px;display:flex;align-items:center;gap:12px">
          <label><input id="reduceMotion" type="checkbox"> Reduce motion</label>
          <span class="sub">Accessibility: Confetti/animations will be minimized.</span>
        </div>
      </section>

      <!-- REPORT / CHARTS -->
      <section class="card" aria-live="polite">
        <div class="report" id="report">
          <div class="report-header">
            <div>
              <h2>Report Card</h2>
              <div class="sub">Your personalized grade with quick wins</div>
            </div>
            <div class="grade-badge" id="gradeBadge" aria-label="Overall grade">â€”</div>
          </div>

          <div class="subgrades" id="subgrades">
            <!-- templated -->
          </div>

          <div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin:6px 0">
              <strong>Progress toward next grade</strong>
              <span id="thermoPct">0%</span>
            </div>
            <div class="thermo" id="thermo" style="--p:0"></div>
          </div>

          <div class="charts">
            <div class="card">
              <h2>Assets vs Liabilities</h2>
              <canvas id="pieAL" height="220" aria-label="Assets vs Liabilities chart" role="img"></canvas>
            </div>
            <div class="card">
              <h2>Income vs Expenses</h2>
              <canvas id="pieIE" height="220" aria-label="Income vs Expenses chart" role="img"></canvas>
            </div>
          </div>

          <div class="card">
            <h2>Net-worth Trend Simulator (10 years)</h2>
            <div class="row">
              <div>
                <label for="assumedReturn">Assumed Annual Return (%)</label>
                <input id="assumedReturn" type="number" inputmode="decimal" placeholder="6" value="6" />
              </div>
              <div>
                <label for="savingsGrowth">Annual Savings Growth (%)</label>
                <input id="savingsGrowth" type="number" inputmode="decimal" placeholder="2" value="2" />
              </div>
            </div>
            <canvas id="trendChart" height="260" aria-label="Net worth projection chart" role="img"></canvas>
          </div>

          <div class="card">
            <h2>Smart Tips</h2>
            <div class="tips" id="tips"></div>
          </div>
        </div>
      </section>
    </main>

    <section class="card no-print" style="margin-top:16px">
      <h2>Get the 3â€‘step plan PDF</h2>
      <p class="sub">Enter your email to receive a simple, customized 3â€‘step plan.</p>
      <div class="row">
        <input id="email" type="email" placeholder="you@example.com" autocomplete="email">
        <button class="btn" id="emailBtn">Send me the PDF</button>
      </div>
      <small class="sub">Weâ€™ll never sell your email. <a href="/disclaimer" target="_blank" rel="noopener">Educational only</a>.</small>
    </section>

    <footer class="no-print" style="opacity:.8;text-align:center;margin:24px 0">
      <div>Â© <span id="y"></span> Grade My Finance Â· <a href="/disclaimer" target="_blank" rel="noopener">Disclaimer</a></div>
      <div style="margin-top:6px">Built with love by <strong>Grady</strong> the owl ðŸ¦‰</div>
    </footer>
  </div>

  <!-- Sticky CTA (mobile) -->
  <div class="sticky-cta no-print">
    <button class="btn" style="width:100%" id="stickyBtn">Get My Report Card</button>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite">Link copied!</div>

  <script>
  // --- Utilities ---
  const $ = s => document.querySelector(s);
  const fmt = n => isFinite(n)? n.toLocaleString(undefined,{maximumFractionDigits:0}) : 'â€”';
  const num = id => Math.max(0, +$(id).value || 0);
  const clamp=(v,min,max)=>Math.min(max,Math.max(min,v));
  const on=(el,ev,fn)=>el.addEventListener(ev,fn);
  const toast=(msg)=>{ const t=$('#toast'); t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1800); };

  const state={ charts:{}, reduceMotion:false };

  // --- Grade logic (simple, transparent) ---
  function compute({income,expenses,assets,debts,ret,sr}){
    const savings = Math.max(0,income-expenses);
    const savingsRate = income? (savings/income)*100 : (sr||0);
    const net = Math.max(0,assets - debts);
    const debtToAsset = assets? debts/assets : (debts? 1:0);
    const monthsRunway = expenses? ( (net)/expenses ) : 0;
    const retireHealth = ret>0? Math.min(100, (ret / (income*12*10))*100 ) : 0; // 10y heuristic

    // Subgrades 0..100
    const sgNW = clamp((net>0? Math.log10(net+1)/6*100:0),0,100);
    const sgDebt = clamp((1-debtToAsset)*100,0,100);
    const sgSave = clamp(savingsRate,0,100);
    const sgRet = clamp(retireHealth,0,100);

    const overall = Math.round( (sgNW*0.35 + sgDebt*0.25 + sgSave*0.25 + sgRet*0.15) );
    const letter = overall>=90?'A':overall>=80?'B':overall>=70?'C':overall>=60?'D':'F';
    const next = letter==='A'?100: letter==='B'?90: letter==='C'?80: letter==='D'?70:60;
    const towardNext = clamp(((overall - (next-10)) / 10)*100,0,100);

    return {savings,savingsRate,net,monthsRunway,sg:{NW:sgNW,Debt:sgDebt,Savings:sgSave,Retirement:sgRet},overall,letter,towardNext};
  }

  // --- Render subgrades ---
  function renderSubgrades(obj){
    const wrap=$('#subgrades');
    wrap.innerHTML='';
    Object.entries(obj.sg).forEach(([k,v])=>{
      const d=document.createElement('div'); d.className='sg';
      d.innerHTML=`<h4>${k}</h4><div style="display:flex;justify-content:space-between"><b>${Math.round(v)}%</b><span class="sub">${v<60?'Needs work':v<80?'Okay':'Strong'}</span></div><div class="progress"><i style="width:${v}%"></i></div>`;
      wrap.appendChild(d);
    });
  }

  // --- Charts ---
  function pie(id,labels,vals){
    const ctx=$(id);
    const data = vals.every(v=>v<=0)? [1] : vals; // avoid blank pies
    const lab = vals.every(v=>v<=0)? ['No data yet'] : labels;
    if(state.charts[id]) state.charts[id].destroy();
    state.charts[id]= new Chart(ctx,{ type:'doughnut', data:{ labels:lab, datasets:[{ data, borderWidth:0 }]}, options:{ responsive:true, cutout:'60%', plugins:{ legend:{display:true, labels:{color:'#cbd5e1'}}, tooltip:{enabled:true} } }});
  }

  function line(id,points){
    if(state.charts[id]) state.charts[id].destroy();
    state.charts[id]= new Chart($(id),{ type:'line', data:{ labels: points.map((_,i)=>`Y${i}`), datasets:[{ data:points, tension:.25, fill:true }]}, options:{ plugins:{legend:{display:false}}, scales:{ x:{ticks:{color:'#9fb0c8'}}, y:{ticks:{color:'#9fb0c8'}} }}});
  }

  // --- Trend simulator ---
  function simulate({assets,debts,income,expenses,ret}, yrs=10){
    const r = (+$('#assumedReturn').value||6)/100;
    const g = (+$('#savingsGrowth').value||2)/100;
    let nw = Math.max(0,assets-debts);
    let sav = Math.max(0,income-expenses);
    const out=[nw];
    for(let i=1;i<=yrs;i++){
      nw = (nw+ret+sav)*(1+r); // rough compounding on base + new savings
      sav *= (1+g);
      out.push(Math.round(nw));
    }
    return out;
  }

  // --- Tips ---
  function genTips(m){
    const tips=[];
    if(m.savingsRate<15) tips.push(`Your savings rate is ${m.savingsRate.toFixed(1)}%. Aim for 15%. Try cutting $${fmt(Math.round((15-m.savingsRate)/100*(num('#income')||0)))} across wants.`);
    if(m.sg.Debt<80 && num('#debts')>0) tips.push(`Debt load is weighing you down. Consider a snowball/avalanche extra $${fmt(Math.round((num('#income')||0)*0.05))}/mo toward highest APR.`);
    if(m.monthsRunway<6) tips.push(`Emergency buffer â‰ˆ ${m.monthsRunway.toFixed(1)} months. Target 6+. Try auto-saving $${fmt(Math.round((num('#expenses')||0)*0.2))} to highâ€‘yield savings.`);
    if(m.sg.Retirement<60) tips.push(`Retirement balance looks light. If available, capture full employer match firstâ€”then ramp to 15% of income.`);
    tips.push(`Re-check weekly. Consistency compounds.`);
    return tips.slice(0,5);
  }

  // --- Confetti + Grady quips ---
  const quips=[
    "Nice bump! Grady approves.",
    "Feathers up! That grade flew higher.",
    "Hoot! Small steps, big gains.",
    "Savings seeds well planted.",
  ];
  function celebrate(){ if(state.reduceMotion) return; confetti({ particleCount:80, spread:70, origin:{y:.8} }); toast(quips[Math.floor(Math.random()*quips.length)]); }

  // --- Share link ---
  function buildShare(){
    const params=new URLSearchParams();
    ['income','expenses','assets','debts','savingsRate','retCntr'].forEach(id=>{ const v=$("#"+id).value; if(v) params.set(id,v) });
    return location.origin + location.pathname + (params.toString()? ('?'+params.toString()):'');
  }

  function loadFromURL(){
    const q=new URLSearchParams(location.search);
    ['income','expenses','assets','debts','savingsRate','retCntr'].forEach(id=>{ if(q.has(id)) $("#"+id).value=q.get(id) });
  }

  // --- Streaks (gamify) ---
  function streakUpdate(){
    const k='gmf:last'; const sKey='gmf:streak';
    const today=new Date().toDateString();
    const last=localStorage.getItem(k);
    let streak=+(localStorage.getItem(sKey)||0);
    if(last!==today){
      const d= last? Math.round((new Date(today)-new Date(last))/86400000) : 0;
      if(d===1) streak+=1; else streak=1;
      localStorage.setItem(k,today); localStorage.setItem(sKey,String(streak));
    }
    return streak;
  }

  // --- Render main ---
  let lastOverall=0;
  function render(){
    const data={
      income:num('#income'), expenses:num('#expenses'), assets:num('#assets'), debts:num('#debts'), ret:num('#retCntr'), sr:num('#savingsRate')
    };
    const m=compute(data);
    $('#gradeBadge').textContent=m.letter;
    renderSubgrades(m);
    $('#thermo').style.setProperty('--p', m.towardNext);
    $('#thermoPct').textContent=Math.round(m.towardNext)+'%';

    pie('#pieAL',['Assets','Liabilities'],[data.assets, data.debts]);
    pie('#pieIE',['Income','Expenses'],[data.income, data.expenses]);

    const series=simulate(data,10);
    line('#trendChart',series);

    const tWrap=$('#tips'); tWrap.innerHTML='';
    genTips(m).forEach(t=>{ const d=document.createElement('div'); d.className='tip'; d.textContent='â€¢ '+t; tWrap.appendChild(d); });

    if(m.overall>lastOverall){ celebrate(); lastOverall=m.overall; }

    // Badge color shift
    const gb=$('#gradeBadge');
    gb.style.background = m.letter==='A'? 'linear-gradient(120deg,#22c55e,#10b981,#34d399)'
      : m.letter==='B'? 'linear-gradient(120deg,#34d399,#38bdf8)'
      : m.letter==='C'? 'linear-gradient(120deg,#f59e0b,#38bdf8)'
      : 'linear-gradient(120deg,#ef4444,#f59e0b)';

    __track('calculated', {grade:m.letter});
  }

  // --- PDF export (print) ---
  function exportPDF(){ window.print(); __track('export_pdf'); }

  // --- Events ---
  on(document,'DOMContentLoaded',()=>{
    $('#y').textContent=new Date().getFullYear();
    loadFromURL();
    state.reduceMotion = localStorage.getItem('gmf:reduceMotion')==='1';
    $('#reduceMotion').checked = state.reduceMotion;
    render();
  });

  ['#income','#expenses','#assets','#debts','#savingsRate','#retCntr','#assumedReturn','#savingsGrowth'].forEach(sel=>{
    on($(sel),'input',()=>{ render(); });
  });

  on($('#calcBtn'),'click',()=>{ const s=streakUpdate(); render(); toast(`Checked in! Streak: ${s} week${s===1?'':'s'}`) });
  on($('#stickyBtn'),'click',()=> $('#calcBtn').click());

  on($('#shareBtn'),'click',async()=>{
    const url=buildShare();
    try{ await navigator.clipboard.writeText(url); toast('âœ… Link copied!'); __track('share_copied'); }
    catch{ toast('Link ready: long-press to copy'); }
  });

  on($('#pdfBtn'),'click', exportPDF);

  on($('#emailBtn'),'click',()=>{
    const v=$('#email').value.trim();
    if(!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(v)) return toast('Please enter a valid email');
    localStorage.setItem('gmf:email',v); toast('ðŸ’¾ Saved! Check your inbox soon.'); __track('email_capture');
  });

  on($('#reduceMotion'),'change',e=>{
    state.reduceMotion = !!e.target.checked; localStorage.setItem('gmf:reduceMotion', state.reduceMotion?'1':'0');
  });
  </script>
</body>
</html>



