<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Grade My Finance | Free Financial Grade Calculator</title>
<meta name="description" content="Get a free financial health grade in seconds. Enter your income, expenses, and assets to see your money score, track net worth, and find ways to improve. No sign-up required.">
<meta name="theme-color" content="#0f172a">
<link rel="canonical" href="https://grademyfinance.com/">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<meta property="og:type" content="website">
<meta property="og:url" content="https://grademyfinance.com/">
<meta property="og:site_name" content="Grade My Finance">
<meta property="og:title" content="Grade My Finance — Free Financial Grade Calculator">
<meta property="og:description" content="See your money like a report card. Get a free financial grade, track net worth, and find improvement tips instantly.">
<meta property="og:image" content="https://grademyfinance.com/og-cover.png">
<meta name="twitter:card" content="summary_large_image">

<link rel="preconnect" href="https://www.googletagmanager.com">
<link rel="preconnect" href="https://pagead2.googlesyndication.com">

<!-- GA4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H6223HYVS6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config','G-H6223HYVS6');
</script>

<!-- AdSense (leave slots as-is until you have them) -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3638344211698514" crossorigin="anonymous"></script>

<style>
:root{
  --bg:#0f172a; --panel:#0b1226; --card:#0b1226; --text:#e2e8f0; --muted:#94a3b8; --line:rgba(148,163,184,.22);
  --accent:#22d3ee; --accent2:#a78bfa; --g1:#16a34a; --g2:#34d399; --shadow:0 14px 40px rgba(0,0,0,.35);
  --header-h:96px;
}
@media (max-width:720px){ :root{ --header-h:74px } }

/* LIGHT THEME */
:root[data-theme="light"]{
  --bg:#f7fafc; --panel:#ffffff; --card:#ffffff; --text:#0b1226; --muted:#4b5563; --line:rgba(15,23,42,.12);
}

*{box-sizing:border-box} html,body{width:100%}
body{
  margin:0; padding-top:var(--header-h); overflow-x:hidden;
  background:
    radial-gradient(900px 460px at -10% -10%, rgba(34,211,238,.18), transparent 50%),
    radial-gradient(900px 460px at 120% -10%, rgba(167,139,250,.15), transparent 55%),
    var(--bg);
  color:var(--text); font-family:Inter,system-ui,Segoe UI,Roboto,Arial; line-height:1.35;
}
.container{max-width:1100px;margin:0 auto;padding:0 16px}

/* Header */
header{ position:fixed; inset:0 0 auto 0; z-index:20; height:var(--header-h);
  display:grid; place-items:center;
  background:linear-gradient(90deg,var(--accent),var(--accent2)); border-bottom:1px solid var(--line);
}
.hdr{height:100%; display:flex; align-items:center; gap:12px; position:relative;}
.logo{height:72px}
@media (max-width:720px){ .logo{height:58px} }
.brand{font-weight:900; font-size:22px; color:#062c1b}
.theme-toggle{position:absolute; right:10px; top:10px}
.theme-toggle .btn{min-width:0;padding:8px 10px}

/* Hero */
.hero{ display:flex; flex-direction:column; align-items:center; gap:10px; padding:14px 0 4px; text-align:center; }
@media (max-width:720px){ .hero{ gap:8px; padding:8px 0 2px } }
.hero-card{ width:min(760px,92vw); background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid var(--line); border-radius:22px; padding:18px; box-shadow:var(--shadow); }
.hero-title{margin:0 0 6px;font-size:30px;font-weight:900}
.hero-tag{margin:0 0 8px;color:var(--muted)}
.hero-cta{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}
.btn{padding:12px 16px;border-radius:12px;border:1px solid var(--line);
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));
  color:var(--text);font-weight:900;cursor:pointer;min-width:140px;transition:transform .15s ease, filter .15s ease}
.btn:hover{filter:brightness(1.06)}
.btn:active{transform:translateY(1px)}
.btn.primary{background:linear-gradient(90deg,var(--g1),var(--g2));border-color:transparent;color:#062c1b}
.btn:focus{outline:3px solid rgba(34,211,238,.35)}

/* Layout */
.shell{max-width:1100px;margin:0 auto;padding:0 16px 22px}
@media (max-width:720px){ .shell{padding-top:2px} }
.card{background:var(--card);border:1px solid var(--line);border-radius:18px;padding:14px;box-shadow:var(--shadow)}
.section-label{font-size:14px;margin:0 0 8px;color:var(--muted);font-weight:800;display:block}

.inputs{display:grid;grid-template-columns:repeat(4,minmax(220px,1fr));gap:14px}
@media (max-width:1060px){ .inputs{grid-template-columns:repeat(2,minmax(220px,1fr))} }
@media (max-width:720px){ .inputs{grid-template-columns:1fr; gap:12px} }

input{width:100%;border:1px solid var(--line);border-radius:12px;padding:12px;background:#0b1226;color:var(--text)}
:root[data-theme="light"] input{background:#fff}
input:focus{outline:none;border-color:#22d3ee;box-shadow:0 0 0 3px rgba(34,211,238,.30)}

.progress{height:12px;background:#0b1226;border:1px solid var(--line);border-radius:999px;overflow:hidden}
:root[data-theme="light"] .progress{background:#fff}
.progress>div{height:100%;width:0%;background:linear-gradient(90deg,var(--g1),var(--g2));transition:width .6s cubic-bezier(.2,.9,.2,1)}

/* Mascot */
.mascot{display:grid;place-items:center;position:relative; margin-top:2px}
@keyframes floatCard{0%,100%{transform:translateY(0) rotate(-1.2deg)}50%{transform:translateY(-7px) rotate(1.2deg)}}
.floatA{position:absolute; right:8px; bottom:0; transform:translate(20%,30%); background:linear-gradient(180deg,#34d399,#16a34a); color:#062c1b; border:2px solid #86efac; border-radius:999px; font-weight:900; width:56px; height:56px; display:grid; place-items:center; box-shadow:0 10px 20px rgba(0,0,0,.45)}
@media (min-width:760px){ .floatA{right:18px; bottom:2px; transform:translate(35%,35%)} }

/* Speech bubble */
.bubble{position:absolute; left:50%; transform:translateX(-50%); top:-8px; max-width:640px;
  background:var(--panel); color:var(--text); border:1px solid var(--line); border-radius:16px; padding:12px 14px; box-shadow:var(--shadow)}
.bubble h4{margin:0 0 6px; font-size:18px}
.bubble p{margin:0; color:var(--muted)}
.bubble .close{position:absolute; right:8px; top:8px; cursor:pointer; border:1px solid var(--line); background:#19223d; color:#e2e8f0; border-radius:8px; padding:4px 8px}

/* Loader overlay */
.overlay{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.45);z-index:80}
.overlay.show{display:grid}
.loader{width:520px;max-width:92vw;background:var(--panel);border:1px solid var(--line);border-radius:18px;padding:20px;box-shadow:var(--shadow)}
.bar{height:14px;border-radius:999px;overflow:hidden;border:1px solid var(--line);background:var(--card)}
.bar .fill{height:100%;width:0%;background:repeating-linear-gradient(45deg,#16a34a 0 14px,#34d399 14px 28px);animation:slide .7s linear infinite}
@keyframes slide{from{background-position:0 0}to{background-position:56px 0}}

/* REPORT CARD MODAL */
.modal{position:fixed; inset:0; display:none; z-index:100; background:rgba(0,0,0,.55); backdrop-filter:blur(2px); overscroll-behavior:contain; }
.modal.show{display:grid; place-items:center}
.sheet{
  width:min(920px,94vw); max-height:88vh; overflow:auto;
  background:var(--panel); border:1px solid var(--line);
  border-radius:22px; box-shadow:var(--shadow); padding:18px; margin:10px;
}
.sheet::-webkit-scrollbar{width:10px} .sheet::-webkit-scrollbar-thumb{background:#1f2a48;border-radius:10px}

/* Sheet header */
.sheet-header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px;}
.xbtn{background:#19223d;border:1px solid var(--line); color:#e2e8f0; border-radius:10px; padding:8px 12px; cursor:pointer}
.rc-top{display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:12px}
.rc-mascot{width:54px; height:54px; border-radius:14px; background:linear-gradient(180deg,#eafff3,#c8ffe3); border:2px solid #86EFAC; display:grid; place-items:center; box-shadow:0 8px 20px rgba(0,0,0,.25)}
.rc-mascot svg{display:block}
.rc-titlewrap{display:flex; flex-direction:column}
.rc-title{font-weight:900; font-size:22px}
.rc-meta{color:var(--muted); font-size:14px}

/* Overall grade badge with dynamic colors */
.rc-grade{font-size:56px;font-weight:1000; border-radius:16px; padding:6px 16px; border:2px solid transparent}
.rc-grade.good{color:#062c1b; background:linear-gradient(180deg,#34d399,#16a34a); border-color:#86efac}
.rc-grade.mid{color:#062c1b; background:linear-gradient(180deg,#facc15,#f59e0b); border-color:#fde68a}
.rc-grade.bad{color:#fff; background:#ef4444; border-color:#fecaca}

/* Table */
.rc-head{display:grid; grid-template-columns: 1.2fr 1fr auto; gap:8px; color:#9fb0c7; font-weight:800; font-size:12px; margin-top:6px}
.rc-rows{display:grid; gap:8px; margin-top:6px}
.rc-row{display:grid; grid-template-columns: 1.2fr 1fr auto; gap:8px; align-items:center;
  background:rgba(255,255,255,.03); border:1px solid var(--line); border-radius:12px; padding:10px;}
.rc-cell .label{font-weight:800}
.rc-cell .sub{color:#9fb0c7; font-size:12px; margin-top:2px}
.rc-cell .detail{margin-top:2px}
.badge{font-weight:900; border:1px solid var(--line); border-radius:10px; padding:6px 10px; text-align:center; display:inline-block}
.badge.good{color:#062c1b;background:linear-gradient(180deg,#34d399,#16a34a); border-color:#86efac}
.badge.mid{color:#062c1b;background:linear-gradient(180deg,#facc15,#f59e0b)}
.badge.bad{color:#fff;background:#ef4444}
.tip{margin-top:6px; padding:8px; border:1px dashed var(--line); border-radius:10px; color:#cbd5e1; font-size:12px}

/* Sparkline */
.spark{width:160px;height:38px;display:block}

/* Pages */
.page{display:none}
.page.active{display:block}

/* Lock background scroll */
body.lock-scroll{ position:fixed; width:100%; overflow:hidden; }

/* Subscribe + lead magnet */
.subscribe{
  max-width:900px; margin:30px auto; padding:18px;
  background:var(--panel); border:1px solid var(--line); border-radius:18px; box-shadow:var(--shadow);
}
.subscribe h3{margin:0 0 6px; font-size:20px}
.subscribe p{margin:6px 0 12px; color:var(--muted)}
.sub-row{display:flex; gap:10px; flex-wrap:wrap}
.sub-row input[type="email"]{
  flex:1 1 280px; padding:12px; border-radius:12px; border:1px solid var(--line);
  background:#0b1226; color:#e2e8f0;
}
:root[data-theme="light"] .sub-row input[type="email"]{background:#fff;color:#0b1226}
.sub-row button{padding:12px 16px;border-radius:12px;border:1px solid var(--line);
  background:linear-gradient(90deg,var(--g1),var(--g2)); color:#062c1b; font-weight:900; cursor:pointer}

/* Toast */
.toast{position:fixed; left:50%; bottom:22px; transform:translateX(-50%); background:#0b1226; color:#e2e8f0;
  border:1px solid var(--line); border-radius:12px; padding:10px 14px; box-shadow:var(--shadow); display:none; z-index:120}
.toast.show{display:block}

/* FAQ / legal */
.faq{max-width:900px; margin:24px auto; padding:0 16px}
.faq h3{margin:0 0 10px}
.faq .item{background:var(--panel); border:1px solid var(--line); border-radius:14px; margin:8px 0; overflow:hidden}
.faq summary{cursor:pointer; padding:12px 14px; font-weight:800; list-style:none}
.faq details[open] summary{border-bottom:1px solid var(--line)}
.faq .content{padding:12px 14px; color:var(--muted)}

/* Footer */
footer{
  background:#0b1226; border-top:1px solid var(--line); margin-top:22px;
  padding:22px 16px; color:#cbd5e1; font-size:14px
}
:root[data-theme="light"] footer{background:#ffffff}
.fwrap{max-width:1000px; margin:0 auto; display:flex; flex-direction:column; align-items:center; gap:8px}
.fcontact{display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:center}
.pill{padding:8px 12px; border:1px solid var(--line); border-radius:999px; background:rgba(255,255,255,.03); color:#3fb7ff}
.flinks{display:flex; gap:12px; flex-wrap:wrap; justify-content:center}
.fnote{opacity:.9}
footer a{ color:#3fb7ff; text-decoration:none; font-weight:700; }
footer a:hover{ text-decoration:underline }

/* Sticky mobile CTA */
.mobile-cta{position:fixed;left:0;right:0;bottom:0;padding:10px;background:rgba(15,23,42,.86);
backdrop-filter:blur(8px);border-top:1px solid rgba(148,163,184,.22);display:none;z-index:90}
:root[data-theme="light"] .mobile-cta{background:rgba(255,255,255,.94)}
.mobile-cta.on{display:block}
.mobile-cta .btn{width:100%}

/* --- Mobile spacing polish --- */
svg, img { display:block; max-width:100%; height:auto; }
.hero-card > :first-child { margin-top:0; }
.hero-card > :last-child  { margin-bottom:0; }
@media (max-width:720px){
  .hero { padding:8px 0 6px; }
  .hero-card { padding:14px; margin-bottom:10px; }
  .mascot { margin-top:0; }
  .shell { padding-top:0; }
  .inputs { gap:10px; }
  .card { padding:12px; }
}
/* Ad blocks collapsing shouldn't add big gaps */
ins.adsbygoogle { min-height:0 !important; }
/* iOS safe areas */
@supports (padding: max(0px)) {
  header { padding-top: env(safe-area-inset-top); }
  body   { padding-bottom: max(22px, env(safe-area-inset-bottom)); }
}
/* Print stylesheet */
@media print{
  body{background:#fff}
  #reportModal{position:static;background:#fff}
  .sheet{max-height:none;box-shadow:none;border:none}
  header,.mobile-cta,.subscribe,footer,.adsbygoogle,.theme-toggle,.bubble{display:none!important}
}
</style>
</head>

<body>
<!-- Confetti -->
<canvas id="confetti" style="position:fixed; inset:0; pointer-events:none; z-index:150;"></canvas>

<header>
  <div class="hdr">
    <!-- G + report card logo -->
    <svg class="logo" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg" aria-label="GMF logo">
      <defs>
        <radialGradient id="gSphere" cx="50%" cy="40%" r="70%"><stop offset="0" stop-color="#b9f4d1"/><stop offset=".55" stop-color="#34d399"/><stop offset="1" stop-color="#128a3f"/></radialGradient>
        <linearGradient id="paper" x1="0" x2="0" y1="0" y2="1"><stop offset="0" stop-color="#ffffff"/><stop offset="1" stop-color="#e8ffe9"/></linearGradient>
      </defs>
      <g transform="translate(20,14)">
        <circle cx="40" cy="45" r="38" fill="url(#gSphere)"/>
        <circle cx="40" cy="45" r="38" fill="none" stroke="rgba(255,255,255,.35)" stroke-width="2"/>
        <text x="40" y="58" text-anchor="middle" font-size="44" font-weight="1000" fill="#072b19" stroke="#eafff3" stroke-width="1.6" paint-order="stroke">G</text>
      </g>
      <g transform="translate(110,10) rotate(-9)">
        <rect width="70" height="94" rx="12" fill="url(#paper)" stroke="#86EFAC" stroke-width="2"/>
        <g stroke="#10B981" stroke-width="2"><line x1="12" y1="28" x2="58" y2="28"/><line x1="12" y1="42" x2="58" y2="42"/><line x1="12" y1="56" x2="58" y2="56"/></g>
        <text x="35" y="76" text-anchor="middle" font-size="24" font-weight="900" fill="#ef4444">A+</text>
      </g>
    </svg>
    <div class="brand">Grade My Finance</div>
    <div class="theme-toggle"><button id="themeToggle" class="btn" aria-label="Toggle theme">🌙/☀️</button></div>
  </div>
</header>

<section class="container hero">
  <div class="hero-card">
    <h1 class="hero-title">Your money, graded like a report card ♥</h1>
    <p class="hero-tag">No sign-up. Plug in numbers → get a score. Simple and effective.</p>
    <div class="hero-cta">
      <button class="btn" id="demoBtn" type="button">Try Demo</button>
      <button class="btn primary" id="gradeBtnTop" type="button">Get My Report Card</button>
      <button class="btn" id="copyLink" type="button">Copy share link</button>
      <button class="btn" id="openGuide" type="button">Free 1-page guide</button>
    </div>
  </div>

  <div class="mascot">
    <!-- “Grady” mascot (more detailed) -->
    <svg viewBox="0 0 280 260" width="240" aria-hidden="true" style="animation:floatCard 3s ease-in-out infinite">
      <defs>
        <linearGradient id="mc" x1="0" x2="0" y1="0" y2="1"><stop offset="0" stop-color="#E8FFF2"/><stop offset="1" stop-color="#CFFDE7"/></linearGradient>
        <linearGradient id="arm" x1="0" x2="1"><stop offset="0" stop-color="#a7f3d0"/><stop offset="1" stop-color="#86efac"/></linearGradient>
      </defs>
      <ellipse cx="140" cy="238" rx="60" ry="14" fill="rgba(0,0,0,.28)"/>
      <!-- body -->
      <rect x="56" y="44" width="168" height="168" rx="28" fill="url(#mc)" stroke="#86EFAC" stroke-width="3"/>
      <!-- face -->
      <circle cx="110" cy="104" r="8" fill="#0f172a"/><circle cx="170" cy="104" r="8" fill="#0f172a"/>
      <path d="M114 130 q26 22 52 0" stroke="#16a34a" stroke-width="6" fill="none" stroke-linecap="round"/>
      <!-- card lines -->
      <g stroke="#a7f3d0" stroke-width="2">
        <line x1="84" y1="154" x2="196" y2="154"/>
        <line x1="84" y1="170" x2="196" y2="170"/>
        <line x1="84" y1="186" x2="196" y2="186"/>
      </g>
      <!-- hand holding mini report card -->
      <g transform="translate(190,140) rotate(-10)">
        <rect x="-2" y="-2" width="60" height="46" rx="8" fill="#ffffff" stroke="#86EFAC" stroke-width="2"/>
        <text x="28" y="30" text-anchor="middle" font-size="18" font-weight="900" fill="#ef4444">A+</text>
      </g>
      <!-- waving arm -->
      <path d="M60,120 q-30,10 -34,40 q10,12 26,0" fill="none" stroke="url(#arm)" stroke-width="10" stroke-linecap="round"/>
    </svg>
    <div class="floatA" aria-hidden="true">A+</div>

    <!-- Intro bubble (first visit) -->
    <div class="bubble" id="gradyBubble" style="display:none">
      <button class="close" id="closeBubble" type="button">×</button>
      <h4>Hey! I’m <strong>Grady</strong> 👋</h4>
      <p>Plug in your numbers and I’ll grade your money, show what to fix, and celebrate wins.</p>
    </div>
  </div>
</section>

<!-- Ad #1 -->
<div class="container" style="margin:16px auto;">
  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3638344211698514" data-ad-slot="REPLACE_WITH_YOUR_SLOT_1" data-ad-format="auto" data-full-width-responsive="true"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<div class="shell">
  <main>
    <section id="grade" class="page active">
      <div class="inputs">
        <div class="card">
          <label class="section-label" for="income">Monthly Income (after-tax)</label>
          <input id="income" type="number" inputmode="decimal" value="0" min="0" aria-label="Monthly income">
        </div>
        <div class="card">
          <label class="section-label" for="expenses">Monthly Expenses</label>
          <input id="expenses" type="number" inputmode="decimal" value="0" min="0" aria-label="Monthly expenses">
        </div>
        <div class="card">
          <label class="section-label" for="age">Age</label>
          <input id="age" type="number" value="30" min="16" max="100" aria-label="Age">
        </div>
        <div class="card">
          <label class="section-label" for="home">Home Value</label>
          <input id="home" type="number" inputmode="decimal" value="0" min="0" aria-label="Home value">
          <div class="section-label" id="assetsHint" style="margin-top:6px">Total Assets: —</div>
        </div>

        <div class="card"><label class="section-label" for="retire">Retirement (401k/IRA)</label><input id="retire" type="number" inputmode="decimal" value="0" min="0" aria-label="Retirement balance"></div>
        <div class="card"><label class="section-label" for="brokerage">Brokerage / Stocks</label><input id="brokerage" type="number" inputmode="decimal" value="0" min="0" aria-label="Brokerage balance"></div>
        <div class="card"><label class="section-label" for="hsa">HSA</label><input id="hsa" type="number" inputmode="decimal" value="0" min="0" aria-label="HSA balance"></div>
        <div class="card"><label class="section-label" for="cash">Cash Savings</label><input id="cash" type="number" inputmode="decimal" value="0" min="0" aria-label="Cash savings"></div>

        <div class="card"><label class="section-label" for="car">Car Value</label><input id="car" type="number" inputmode="decimal" value="0" min="0" aria-label="Car value"></div>
        <div class="card">
          <label class="section-label" for="mortgage">Mortgage Balance</label><input id="mortgage" type="number" inputmode="decimal" value="0" min="0" aria-label="Mortgage balance">
          <div class="section-label" id="liabHint" style="margin-top:6px">Total Liabilities: —</div>
        </div>
        <div class="card"><label class="section-label" for="student">Student Loans</label><input id="student" type="number" inputmode="decimal" value="0" min="0" aria-label="Student loan balance"></div>
        <div class="card"><label class="section-label" for="auto">Auto Loans</label><input id="auto" type="number" inputmode="decimal" value="0" min="0" aria-label="Auto loan balance"></div>

        <div class="card"><label class="section-label" for="cc">Credit Cards (balance)</label><input id="cc" type="number" inputmode="decimal" value="0" min="0" aria-label="Credit card balance"></div>

        <div class="card" style="grid-column:1/-1">
          <div style="display:flex;gap:8px;justify-content:space-between;align-items:center;flex-wrap:wrap">
            <div style="display:flex;gap:8px;flex-wrap:wrap">
              <button id="resetBtn" class="btn" type="button">Reset</button>
              <button id="saveProfile" class="btn" type="button">Save Profile</button>
              <button id="loadProfile" class="btn" type="button">Load Profile</button>
              <button id="exportProfiles" class="btn" type="button">Export</button>
              <label class="btn" for="importFile" style="cursor:pointer">Import<input id="importFile" type="file" accept="application/json" style="display:none"></label>
            </div>
            <div style="display:flex;gap:8px">
              <button id="gradeBtn" class="btn primary" type="button">Get My Report Card</button>
            </div>
          </div>
          <div class="progress" style="margin:10px 0"><div id="progressFill"></div></div>
        </div>
      </div>
    </section>

    <!-- Privacy -->
    <section id="privacy" class="page" aria-labelledby="privacyH">
      <div class="card" style="margin-top:12px">
        <h2 id="privacyH">Privacy Policy</h2>
        <p>We don’t store your numbers on a server. All calculations run in your browser. If you share a link, your inputs are encoded in the URL; delete it to remove access. Emails you submit for updates are processed by Formspree and delivered to us for communication only. We use Google Analytics (GA4) and AdSense to understand usage and serve ads.</p>
        <p>Contact: <a href="mailto:grademyfinance@gmail.com">grademyfinance@gmail.com</a></p>
        <p>Last updated: 2025-09-09</p>
      </div>
    </section>

    <!-- Terms -->
    <section id="terms" class="page" aria-labelledby="termsH">
      <div class="card" style="margin-top:12px">
        <h2 id="termsH">Terms of Use</h2>
        <p>This site is for educational purposes only and does not constitute financial, tax, or legal advice. You’re responsible for your own decisions. We provide the service “as is,” without warranties. By using the site, you agree not to misuse it or attempt to reverse engineer the code. Some links may be affiliate links; we may earn a commission at no cost to you.</p>
      </div>
    </section>

    <!-- Developer helper (robots/sitemap copy) -->
    <section id="dev" class="page" aria-labelledby="devH">
      <div class="card" style="margin-top:12px">
        <h2 id="devH">Site Files (copy & add to root)</h2>
        <h3>robots.txt</h3>
        <pre id="robotsTxt">User-agent: *
Allow: /
Sitemap: https://grademyfinance.com/sitemap.xml
</pre>
        <button class="btn" id="copyRobots" type="button">Copy robots.txt</button>
        <h3 style="margin-top:12px">sitemap.xml</h3>
<pre id="smap">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;&lt;loc&gt;https://grademyfinance.com/&lt;/loc&gt;&lt;/url&gt;
&lt;/urlset&gt;
</pre>
        <button class="btn" id="copySitemap" type="button">Copy sitemap.xml</button>
      </div>
    </section>
  </main>
</div>

<!-- Loader overlay -->
<div id="overlay" class="overlay" aria-live="polite" aria-busy="true">
  <div class="loader">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px">
      <strong>Crunching numbers…</strong><span id="pct">0%</span>
    </div>
    <div class="bar"><div class="fill" id="barFill"></div></div>
  </div>
</div>

<!-- REPORT CARD MODAL -->
<div id="reportModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="rcTitle">
  <div class="sheet">
    <div class="sheet-header">
      <div class="rc-top">
        <div class="rc-mascot" aria-hidden="true">
          <svg viewBox="0 0 64 64" width="38" height="38">
            <rect x="6" y="6" width="52" height="52" rx="12" fill="#eafff3"/>
            <circle cx="26" cy="28" r="3.5" fill="#0f172a"/><circle cx="42" cy="28" r="3.5" fill="#0f172a"/>
            <path d="M22 38 q10 8 20 0" stroke="#16a34a" stroke-width="4" fill="none" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="rc-titlewrap">
          <div id="rcTitle" class="rc-title">Your Report Card</div>
          <div id="rcMeta" class="rc-meta">—</div>
        </div>
        <div>
          <svg id="spark" class="spark" viewBox="0 0 160 38" preserveAspectRatio="none"></svg>
        </div>
        <div id="rcGrade" class="rc-grade">A</div>
      </div>
      <button class="xbtn" id="closeReport" type="button" aria-label="Close report card">Close</button>
    </div>

    <div class="rc-head"><div>Category</div><div>Details</div><div>Grade</div></div>
    <div class="rc-rows" id="rcRows"></div>

    <div class="rc-actions" style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px; flex-wrap:wrap">
      <button class="btn" id="printReport" type="button">Save as PDF</button>
      <button class="btn" id="shareTwitter" type="button">Share on X</button>
      <button class="btn" id="copyReport" type="button" aria-label="Share my report card">Share my Report Card</button>
      <button class="btn" id="copyJSON" type="button" aria-label="Copy as link">Copy as Link</button>
      <button class="btn primary" id="calcAgain" type="button">Recalculate</button>
    </div>
  </div>
</div>

<!-- Lead magnet modal -->
<div id="guideModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="guideTitle">
  <div class="sheet">
    <div class="sheet-header">
      <div class="rc-titlewrap">
        <div id="guideTitle" class="rc-title">5 quick moves to raise your grade by next payday</div>
        <div class="rc-meta">One-pager by Grady</div>
      </div>
      <button class="xbtn" id="closeGuide" type="button">Close</button>
    </div>
    <ol style="line-height:1.6">
      <li><strong>Auto-transfer on payday</strong> → 15–25% to savings/investing.</li>
      <li><strong>Build emergency cushion</strong> → target 3→6 months of expenses in HYSA.</li>
      <li><strong>Slash high-APR first</strong> → throw extra at the highest rate, keep cards paid in full.</li>
      <li><strong>Cut one bill</strong> → call and negotiate (phone, internet, insurance) for $10–$50/mo wins.</li>
      <li><strong>Income nudge</strong> → add one cert/skill or ask for a small raise with a data-backed pitch.</li>
    </ol>
    <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px">
      <button class="btn" id="printGuide" type="button">Print / Save as PDF</button>
    </div>
  </div>
</div>

<!-- Subscribe -->
<section class="container subscribe" id="subscribe">
  <h3>Get simple money tips & updates</h3>
  <p>Drop your email and we’ll send occasional improvements — no spam, unsubscribe anytime.</p>
  <form id="subForm" class="sub-row" action="https://formspree.io/f/xvgblayy" method="POST">
    <input type="email" name="email" id="subEmail" placeholder="you@example.com" required />
    <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />
    <input type="hidden" name="_subject" value="New Grade My Finance subscriber" />
    <input type="hidden" name="_redirect" value="https://grademyfinance.com/?subscribed=1" />
    <button type="submit" class="btn primary">Subscribe</button>
  </form>
</section>
<div class="toast" id="toast" role="status" aria-live="polite">Thanks! Check your inbox for a confirmation.</div>

<!-- Ad #2 -->
<div class="container" style="margin:22px auto;">
  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3638344211698514" data-ad-slot="REPLACE_WITH_YOUR_SLOT_2" data-ad-format="auto" data-full-width-responsive="true"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<!-- FAQ -->
<section class="faq" aria-labelledby="faqHeading">
  <h3 id="faqHeading">FAQ</h3>
  <details class="item">
    <summary>How is my overall grade calculated?</summary>
    <div class="content">We weight savings rate (15%), emergency fund (10%), non-mortgage debt load (5%), age-based net worth progress (65%), and income strength (5%). We bias toward behavior you control and long-term net worth.</div>
  </details>
  <details class="item">
    <summary>Do you store my numbers?</summary>
    <div class="content">No. Everything runs in your browser. If you copy a share link, your inputs are encoded in the URL — you can delete it anytime.</div>
  </details>
  <details class="item">
    <summary>Is this financial advice?</summary>
    <div class="content">It’s educational only — not financial, tax, or legal advice. Consider talking with a professional for personalized guidance.</div>
  </details>
</section>

<!-- Sticky mobile CTA -->
<div class="mobile-cta" id="mobileCta">
  <button id="gradeBtnSticky" class="btn primary" type="button">Get My Report Card</button>
</div>

<footer>
  <div class="fwrap">
    <div class="fcontact">
      <span class="pill">Contact</span>
      <a class="pill" href="mailto:grademyfinance@gmail.com">grademyfinance@gmail.com</a>
    </div>
    <div class="flinks">
      <a href="#privacy" data-nav>Privacy</a>
      <a href="#terms" data-nav>Terms</a>
      <a href="#dev" data-nav>Developer</a>
    </div>
    <div class="fnote">© 2025 Grade My Finance — educational use only (not financial advice).</div>
  </div>
</footer>

<!-- Schema: WebApplication + FAQ -->
<script type="application/ld+json">
{
 "@context":"https://schema.org",
 "@type":"WebApplication",
 "name":"Grade My Finance",
 "url":"https://grademyfinance.com/",
 "applicationCategory":"FinanceApplication",
 "operatingSystem":"Web",
 "description":"Free financial grade calculator.",
 "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"}
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {"@type": "Question","name": "How is my overall grade calculated?","acceptedAnswer": {"@type": "Answer","text": "We weight savings rate (15%), emergency fund (10%), non-mortgage debt load (5%), age-based net worth progress (65%), and income strength (5%)."}},
    {"@type": "Question","name": "Do you store my numbers?","acceptedAnswer": {"@type": "Answer","text": "No. Everything runs in your browser. If you copy a share link, your inputs are encoded in the URL — you can delete it anytime."}},
    {"@type": "Question","name": "Is this financial advice?","acceptedAnswer": {"@type": "Answer","text": "It’s educational only — not financial, tax, or legal advice."}}
  ]
}
</script>

<script>
(() => {
/* helpers */
const $=s=>document.querySelector(s);
const $$=s=>[...document.querySelectorAll(s)];
const el=(t,a={},ch=[])=>{const n=document.createElement(t);Object.assign(n,a);ch.forEach(c=>n.append(c));return n;}
const on=(x,e,f)=>x&&x.addEventListener(e,f,{passive:true});
const money=n=>isFinite(n)?`$${Math.round(n).toLocaleString()}`:'—';
const clamp=(x,a=0,b=1)=>Math.max(a,Math.min(b,x));
const map01=(x,a,b)=>clamp((x-a)/(b-a),0,1);
const g = (...a)=>{ try{ gtag(...a) }catch{} };

/* theme */
const root=document.documentElement;
const saved=localStorage.getItem('gmf_theme');
if(saved==='light') root.dataset.theme='light';
on($('#themeToggle'),'click',()=>{ const next=root.dataset.theme==='light'?'':'light'; root.dataset.theme=next; localStorage.setItem('gmf_theme', next||'dark'); });

/* confetti */
const reduceMotion = matchMedia('(prefers-reduced-motion: reduce)').matches;
const cf=$('#confetti'), ctx=cf.getContext('2d');
function resizeC(){ cf.width=innerWidth; cf.height=innerHeight } addEventListener('resize',resizeC); resizeC();
function confettiBurst(n=260){
  if(reduceMotion) return;
  const bits=[]; for(let i=0;i<n;i++) bits.push({x:Math.random()*cf.width,y:-20-Math.random()*140,vx:(Math.random()-.5)*3,vy:2+Math.random()*3.5,r:4+Math.random()*7,a:Math.random()*Math.PI,spin:(Math.random()-.5)*0.28,clr:`hsl(${Math.random()*360},90%,60%)`});
  let t=0; (function anim(){ t++; ctx.clearRect(0,0,cf.width,cf.height);
    bits.forEach(b=>{ b.x+=b.vx; b.y+=b.vy; b.a+=b.spin; ctx.save(); ctx.translate(b.x,b.y); ctx.rotate(b.a); ctx.fillStyle=b.clr; ctx.fillRect(-b.r/2,-b.r/2,b.r,b.r); ctx.restore(); });
    if(t<260) requestAnimationFrame(anim); else ctx.clearRect(0,0,cf.width,cf.height);
  })();
}

/* inputs */
const ids=['age','income','expenses','home','retire','brokerage','car','hsa','cash','mortgage','student','auto','cc'];
const els=Object.fromEntries(ids.map(id=>[id,$('#'+id)]));
const val=id=>Number(els[id]?.value||0);

/* Currency input hygiene */
ids.forEach(id=>{
  const elInp=els[id];
  if(!elInp) return;
  on(elInp,'input',()=>{ elInp.value = elInp.value.replace(/[^\d.-]/g,''); });
  on(elInp,'blur',()=>{ if(elInp.value!=='') elInp.value = String(Math.round(+elInp.value)); });
});

/* curves/params */
const NW_CURVE=[[25,0.2],[30,0.5],[35,1.0],[40,1.5],[45,2.5],[50,3.5],[55,5.0],[60,6.5]];
const EF_TARGET=6, MAX_SAVINGS=0.25, DTI_ZERO_AT=0.50, SPEND_FLOOR=30000, FI_MULT=25;
const MEDIAN_INCOME=70000;

/* helpers */
function targetNW(age){
  if(age<=NW_CURVE[0][0]) return NW_CURVE[0][1];
  if(age>=NW_CURVE[NW_CURVE.length-1][0]) return NW_CURVE[NW_CURVE.length-1][1];
  for(let i=1;i<NW_CURVE.length;i++){const[a0,t0]=NW_CURVE[i-1],[a1,t1]=NW_CURVE[i]; if(age<=a1){ const t=(age-a0)/(a1-a0); return t0+(t1-t0)*t; }}
  return NW_CURVE[NW_CURVE.length-1][1];
}

/* collect values */
function values(){
  const v=Object.fromEntries(ids.map(id=>[id,val(id)]));
  v.assets=v.home+v.retire+v.brokerage+v.car+v.hsa+v.cash;
  v.liabs=v.mortgage+v.student+v.auto+v.cc;
  v.net=v.assets-v.liabs;
  v.annualIncome=v.income*12; v.annualSpend=v.expenses*12;
  v.baseline=Math.max(v.annualSpend, SPEND_FLOOR);
  const denomSav=Math.max(v.income, v.expenses, 2000);
  v.saveRate=denomSav>0 ? Math.max(0, v.income - v.expenses)/denomSav : 0;
  v.efMonths=v.expenses>0 ? v.cash/v.expenses : 0;
  v.nonMortDebt=v.student+v.auto+v.cc;
  v.dtiNonMort = v.baseline>0 ? v.nonMortDebt/v.baseline : 1;
  v.nwTargetMultiple = targetNW(v.age||30);
  v.nwTargetAmount = v.nwTargetMultiple * v.baseline;
  v.nwProgress = v.nwTargetAmount>0 ? v.net/v.nwTargetAmount : 0;
  const ratio = v.annualIncome / MEDIAN_INCOME;
  v.incomeScore = clamp(0.5 + 0.5*Math.tanh((ratio-1)*1.2), 0, 1);
  v.incomeLetter = incomeLetterFromRatio(ratio);
  return v;
}

/* grades */
function overallLetter(score){
  return score>=97?'A+':score>=93?'A':score>=90?'A-':score>=87?'B+':score>=83?'B':score>=80?'B-':score>=77?'C+':score>=73?'C':score>=70?'C-':score>=67?'D+':score>=63?'D':score>=60?'D-':'F';
}
function letterFrom01(s){ const x=Math.round(s*100);
  return x>=97?'A+':x>=93?'A':x>=90?'A-':x>=87?'B+':x>=83?'B':x>=80?'B-':x>=77?'C+':x>=73?'C':x>=70?'C-':x>=67?'D+':x>=63?'D':x>=60?'D-':'F';
}
function incomeLetterFromRatio(r){
  return r>=2.2?'A+': r>=1.8?'A': r>=1.5?'A-': r>=1.3?'B+': r>=1.15?'B': r>=1.0?'B-'
       : r>=0.9?'C+': r>=0.8?'C': r>=0.7?'C-': r>=0.6?'D': 'F';
}
function badgeClass(letter){
  if(['A+','A','A-','B+'].includes(letter)) return 'badge good';
  if(['B','B-','C+','C','C-'].includes(letter)) return 'badge mid';
  return 'badge bad';
}
function overallClass(letter){
  if(['A+','A','A-','B+'].includes(letter)) return 'good';
  if(['B','B-','C+','C','C-'].includes(letter)) return 'mid';
  return 'bad';
}

function categoryScores(v){
  const sSave = map01(v.saveRate, 0, MAX_SAVINGS);
  const sEF   = map01(v.efMonths, 0, EF_TARGET);
  const sDebt = clamp(1 - v.dtiNonMort/DTI_ZERO_AT, 0, 1);
  const sAgeNW = Math.pow(clamp(v.nwProgress, 0, 1.0), 0.85);
  const sInc  = v.incomeScore;

  const weighted = (sSave*0.15 + sEF*0.10 + sDebt*0.05 + sAgeNW*0.65 + sInc*0.05)*100;
  const score = (v.annualSpend>0 && v.net >= FI_MULT*Math.max(v.annualSpend, SPEND_FLOOR)) ? Math.max(weighted,94) : weighted;

  return {
    components: [
      {key:'Savings rate', sub:'Toward 25% target', val:`${Math.round(v.saveRate*100)}% of take-home`,
       letter:letterFrom01(sSave),
       tip: v.saveRate<0.25
          ? `Aim for 25%. You’re short by about ${money(Math.max(0,(v.income*0.25)-(v.income-v.expenses)))} per month. Automate transfers on payday.`
          : `Great job keeping spending below income—stay consistent.`},
      {key:'Emergency fund', sub:'Goal 6 months', val:`${v.efMonths.toFixed(1)} months`,
       letter:letterFrom01(sEF),
       tip: v.efMonths<6
          ? `Set aside ${money(Math.round((v.expenses*6 - v.cash)/6))}/mo to reach 6 months in ~6 months. Park in a high-yield savings.`
          : `Solid cushion—maintain it in a safe, liquid account.`},
      {key:'Debt load (non-mort.)', sub:'Lower is better', val:`${Math.round(v.dtiNonMort*100)}% of baseline`,
       letter:letterFrom01(sDebt),
       tip: v.dtiNonMort>0.25
          ? `Attack highest-interest balances first. Target extra ${money(Math.round(v.baseline*0.05))}/mo until non-mortgage debt <25% of baseline.`
          : `Healthy debt level. Keep balances paid in full monthly.`},
      {key:'Age-based net worth', sub:`Target ${v.nwTargetMultiple.toFixed(2)}× baseline`, val:`${(v.nwProgress*100).toFixed(0)}% of age target`,
       letter:letterFrom01(sAgeNW),
       tip: v.nwProgress<1
          ? `Gap of ~${money(Math.max(0, v.nwTargetAmount - v.net))}. Invest the difference steadily; prioritize tax-advantaged accounts.`
          : `You’re ahead of schedule—keep compounding.`},
      {key:'Income strength', sub:'vs median to high income', val:`${money(v.annualIncome)}/yr`,
       letter:v.incomeLetter,
       tip: (v.annualIncome < MEDIAN_INCOME*1.15)
          ? `Focus on skill-ups, certs, or negotiation. Track market rates; aim for ${money(Math.round(MEDIAN_INCOME*1.15))}+ within 12–18 months.`
          : `Leverage surplus income: automate investing and employer match.`},
    ],
    overall: { score: Math.round(score*10)/10, letter: overallLetter(Math.round(score*10)/10) }
  };
}

/* overlay */
const overlay=$('#overlay'), bar=$('#barFill'), pct=$('#pct');
function toggleOverlay(show){ overlay.classList.toggle('show', !!show) }
function withOverlay(runFn, doneFn){
  let elapsed=0, dur=1200, done=false;
  toggleOverlay(true); bar.style.width='0%'; pct.textContent='0%';
  const t=setInterval(()=>{ elapsed+=120; const p=Math.min(100,Math.round((elapsed/dur)*100)); bar.style.width=p+'%'; pct.textContent=p+'%'; },120);
  setTimeout(()=>{ if(done) return; done=true; clearInterval(t); toggleOverlay(false); doneFn(runFn()); }, dur+220);
}

/* report modal + scroll lock + focus trap */
const modal=$('#reportModal'), rcRows=$('#rcRows'), rcGrade=$('#rcGrade'), rcMeta=$('#rcMeta');
let savedScrollY = 0;
function lockScroll(){ savedScrollY = window.scrollY||0; document.body.classList.add('lock-scroll'); document.body.style.top = `-${savedScrollY}px`; }
function unlockScroll(){ document.body.classList.remove('lock-scroll'); document.body.style.top=''; window.scrollTo(0,savedScrollY||0); }
function trapFocus(modal){
  const sel='button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])';
  modal.addEventListener('keydown',e=>{
    if(e.key!=='Tab') return;
    const f=[...modal.querySelectorAll(sel)].filter(x=>!x.disabled && x.offsetParent);
    const first=f[0], last=f[f.length-1];
    if(!first||!last) return;
    if(e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus(); }
    if(!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); }
  });
}
trapFocus(modal);

/* sparkline */
function renderSpark(){
  const svg=$('#spark');
  if(!svg) return;
  const data=JSON.parse(localStorage.getItem('gmf_history')||'[]').slice(-30);
  svg.innerHTML='';
  if(!data.length){ return; }
  const scores=data.map(d=>d.score);
  const min=Math.min(...scores,50), max=Math.max(...scores,100);
  const pts=scores.map((s,i)=>`${(i/(scores.length-1||1))*160},${38 - ((s-min)/(max-min||1))*38}`).join(' ');
  const pl=el('polyline',{points:pts, fill:'none', stroke:'#34d399', 'stroke-width':2});
  svg.append(pl);
}

/* open report */
function openReport(v,cats){
  rcMeta.textContent = `Overall ${cats.overall.score.toFixed(1)}/100 • Net worth ${money(v.net)} • Assets ${money(v.assets)} • Liabilities ${money(v.liabs)}`;
  rcGrade.textContent = cats.overall.letter;
  rcGrade.className = 'rc-grade ' + overallClass(cats.overall.letter);

  rcRows.innerHTML='';
  cats.components.forEach(c=>{
    const row=el('div',{className:'rc-row'});
    const catCol=el('div',{className:'rc-cell'},[
      el('div',{className:'label', title:c.sub},[document.createTextNode(c.key)]),
      el('div',{className:'sub'},[document.createTextNode(c.sub)])
    ]);
    const detailCol=el('div',{className:'rc-cell detail-col'},[
      el('div',{className:'detail'},[document.createTextNode(c.val)]),
      el('div',{className:'tip'},[document.createTextNode(c.tip)])
    ]);
    const gradeCol=el('div',{className:'rc-cell'},[
      el('span',{className:badgeClass(c.letter)},[document.createTextNode(c.letter)])
    ]);
    row.append(catCol,detailCol,gradeCol); rcRows.append(row);
  });

  // save history
  const history=JSON.parse(localStorage.getItem('gmf_history')||'[]');
  history.push({ts:Date.now(),score:cats.overall.score,letter:cats.overall.letter,net:v.net,assets:v.assets,liabs:v.liabs});
  localStorage.setItem('gmf_history', JSON.stringify(history.slice(-60)));
  renderSpark();

  if (['A+','A','A-','B+','B','B-'].includes(cats.overall.letter)) confettiBurst();

  lockScroll(); modal.classList.add('show');
  g('event','report_open',{score:cats.overall.score, letter:cats.overall.letter});
}
on($('#closeReport'),'click',()=>{ modal.classList.remove('show'); unlockScroll(); });
on($('#calcAgain'),'click',()=>{ modal.classList.remove('show'); unlockScroll(); });
on($('#printReport'),'click',()=>window.print());

/* actions */
function gradeSequence(){ withOverlay(()=>{ const v=values(); const cats=categoryScores(v); return {v,cats}; }, ({v,cats})=>openReport(v,cats)); }
on($('#gradeBtn'),'click',()=>{ g('event','grade_click',{id:'gradeBtn'}); gradeSequence(); });
on($('#gradeBtnTop'),'click',()=>{ g('event','grade_click',{id:'gradeBtnTop'}); gradeSequence(); });
on($('#gradeBtnSticky'),'click',()=>{ g('event','grade_click',{id:'gradeBtnSticky'}); gradeSequence(); });

/* nav between in-page sections */
function showSection(hash){
  $$('.page').forEach(p=>p.classList.remove('active'));
  const id=(hash||'#grade').replace('#','');
  const elT=$('#'+id);
  (elT||$('#grade')).classList.add('active');
}
on(window,'hashchange',()=>showSection(location.hash));
$$('a[data-nav]').forEach(a=>a.addEventListener('click',()=>showSection(a.getAttribute('href'))));
showSection(location.hash);

/* share */
function shareLink(){ const s={}; ids.forEach(id=>s[id]=Number(els[id]?.value||0)); return location.origin+location.pathname+'#s='+btoa(unescape(encodeURIComponent(JSON.stringify(s)))); }
on($('#copyLink'),'click',()=>{ const url=shareLink(); navigator.clipboard?.writeText(url).then(()=>alert('Shareable link copied.')).catch(()=>alert(url)); });
on($('#copyJSON'),'click',()=>{ const url=shareLink(); navigator.clipboard?.writeText(url).then(()=>alert('Shareable link copied.')).catch(()=>alert(url)); });
on($('#copyReport'),'click',async ()=>{ const url=shareLink(); if(navigator.share){try{await navigator.share({title:'My Report Card',text:'Check out my money grade!',url})}catch{navigator.clipboard?.writeText(url)}} else navigator.clipboard?.writeText(url) });
on($('#shareTwitter'),'click',()=>{ const url=encodeURIComponent(shareLink()); const text=encodeURIComponent('I just graded my money on Grade My Finance — check yours:'); open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`,'_blank','noopener'); });

/* hints & hydrate */
function updateHints(){ const v=values(); $('#assetsHint').textContent=`Total Assets: ${money(v.assets)}`; $('#liabHint').textContent=`Total Liabilities: ${money(v.liabs)}` }
ids.forEach(id=>els[id]?.addEventListener('input',updateHints)); updateHints();
(function(){ const m=location.hash.match(/#s=([^&]+)/); if(!m) return; try{ const obj=JSON.parse(decodeURIComponent(escape(atob(m[1])))); Object.keys(obj).forEach(id=>{const el=document.getElementById(id); if(el) el.value=obj[id]}); updateHints(); }catch{} })();

/* demo */
on($('#demoBtn'),'click',()=>{ g('event','demo_used'); const d={income:7500,expenses:4000,age:30, home:450000,retire:72000,brokerage:29000,car:18000,hsa:2000,cash:0, mortgage:326000,student:25100,auto:13000,cc:5000}; Object.keys(d).forEach(id=>{const el=document.getElementById(id); if(el) el.value=d[id]}); updateHints(); });

/* subscribe (Formspree) */
const subForm=$('#subForm'), subEmail=$('#subEmail'), toast=$('#toast');
on(subForm,'submit',async (e)=>{
  e.preventDefault();
  if (!/^https:\/\/formspree\.io\/f\/[a-z0-9]+$/i.test(subForm.action)) { alert('Subscribe isn’t configured yet. Paste your real Formspree endpoint.'); return; }
  const email=subEmail.value.trim();
  if(!/^\S+@\S+\.\S+$/.test(email)){ alert('Please enter a valid email.'); return; }
  try{
    const res=await fetch(subForm.action,{
      method:'POST',
      headers:{'Accept':'application/json','Content-Type':'application/json'},
      body:JSON.stringify({email,source:'grademyfinance.com'})
    });
    if(res.ok){
      g('event','subscribe_success');
      toast.textContent='Thanks! Check your inbox for a confirmation.';
      toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'),3000);
      subEmail.value='';
    }else if(res.status===404){
      alert('Form not found. Replace the Formspree action URL with your real one.');
    }else{
      alert('Signup failed. Please try again later.');
    }
  }catch{ alert('Network error. Please try again later.'); }
});
if (new URLSearchParams(location.search).get('subscribed') === '1') {
  toast.textContent='Thanks! You’re on the list.'; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'),3000);
}

/* Saved profiles */
function getProfiles(){ return JSON.parse(localStorage.getItem('gmf_profiles')||'{}'); }
function setProfiles(p){ localStorage.setItem('gmf_profiles', JSON.stringify(p)); }
$('#saveProfile')?.addEventListener('click',()=>{
  const name=prompt('Save profile as (e.g., “Me”, “Household A”)');
  if(!name) return;
  const s={}; ids.forEach(id=>s[id]=Number(els[id]?.value||0));
  const p=getProfiles(); p[name]={...s, ts:Date.now()}; setProfiles(p);
  alert('Saved!');
});
$('#loadProfile')?.addEventListener('click',()=>{
  const p=getProfiles(); const names=Object.keys(p);
  if(!names.length){ alert('No saved profiles yet.'); return; }
  const pick=prompt('Type a profile name to load:\n'+names.join(', '));
  if(!pick || !p[pick]) return;
  const s=p[pick]; Object.keys(s).forEach(id=>{ if(els[id]) els[id].value=s[id]; }); updateHints();
});
$('#exportProfiles')?.addEventListener('click',()=>{
  const blob=new Blob([localStorage.getItem('gmf_profiles')||'{}'],{type:'application/json'});
  const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='gmf_profiles.json'; a.click();
});
$('#importFile')?.addEventListener('change',e=>{
  const f=e.target.files?.[0]; if(!f) return;
  const r=new FileReader(); r.onload=()=>{ try{ const p=JSON.parse(r.result); setProfiles(p); alert('Imported!'); }catch{ alert('Invalid JSON file.'); } }; r.readAsText(f);
});

/* Sticky CTA only after scroll and only on mobile */
const mcta=$('#mobileCta'); const onScroll=()=>{ mcta.classList.toggle('on', window.scrollY>300 && window.matchMedia('(max-width: 720px)').matches ); };
addEventListener('scroll', onScroll, {passive:true}); onScroll();

/* Grady intro bubble */
(function(){
  const seen = localStorage.getItem('gmf_greeted');
  const b = $('#gradyBubble');
  if(!seen && b){ b.style.display='block'; }
  $('#closeBubble')?.addEventListener('click',()=>{ b.style.display='none'; localStorage.setItem('gmf_greeted','1'); });
})();

/* Lead magnet modal */
const guideModal=$('#guideModal');
$('#openGuide')?.addEventListener('click',()=>{ guideModal.classList.add('show'); lockScroll(); });
$('#closeGuide')?.addEventListener('click',()=>{ guideModal.classList.remove('show'); unlockScroll(); });
$('#printGuide')?.addEventListener('click',()=>window.print());

/* Developer copy buttons */
$('#copyRobots')?.addEventListener('click',()=>{ navigator.clipboard?.writeText($('#robotsTxt').textContent.trim()); alert('robots.txt copied'); });
$('#copySitemap')?.addEventListener('click',()=>{ navigator.clipboard?.writeText($('#smap').textContent.replace(/&lt;/g,'<').replace(/&gt;/g,'>')); alert('sitemap.xml copied'); });

/* Reset button */
$('#resetBtn')?.addEventListener('click',()=>{ ids.forEach(id=>{ if(els[id]) els[id].value=0; }); updateHints(); });

renderSpark();
})();
</script>
</body>
</html>




