<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Grade My Finance | Free Financial Grade Calculator</title>
<meta name="description" content="Get a free financial health grade in seconds. Enter your income, expenses, and assets to see your money score and ways to improve. No sign-up required.">
<meta name="theme-color" content="#0f172a">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">

<!-- Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H6223HYVS6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){ dataLayer.push(arguments); }
  gtag('js', new Date());
  gtag('config', 'G-H6223HYVS6', { 'anonymize_ip': true });
  // small helper so calls don't error if gtag is blocked
  window.__track = function(event, params){ try { gtag('event', event, params || {}); } catch(e){} };
</script>

<style>
:root{
  --bg:#0f172a; --panel:#0b1226; --card:#0b1226; --text:#e2e8f0; --muted:#94a3b8; --line:rgba(148,163,184,.22);
  --accent:#22d3ee; --accent2:#a78bfa; --g1:#16a34a; --g2:#34d399; --header-h:96px; --shadow:0 14px 40px rgba(0,0,0,.35);
}
@media (max-width:720px){ :root{ --header-h:74px } }
:root[data-theme="light"]{
  --bg:#f7fafc; --panel:#ffffff; --card:#ffffff; --text:#0b1226; --muted:#4b5563; --line:rgba(15,23,42,.12);
}
*{box-sizing:border-box}
html,body{width:100%}
body{
  margin:0; padding-top:var(--header-h); overflow-x:hidden;
  background:
    radial-gradient(900px 460px at -10% -10%, rgba(34,211,238,.18), transparent 50%),
    radial-gradient(900px 460px at 120% -10%, rgba(167,139,250,.15), transparent 55%),
    var(--bg);
  color:var(--text); font-family:Inter,system-ui,Segoe UI,Roboto,Arial; line-height:1.35;
}
.container{max-width:1100px;margin:0 auto;padding:0 16px}

/* Header */
header{ position:fixed; left:0; right:0; top:0; z-index:20; height:var(--header-h);
  display:grid; place-items:center;
  background:linear-gradient(90deg,var(--accent),var(--accent2)); border-bottom:1px solid var(--line);
}
.hdr{height:100%; display:flex; align-items:center; gap:12px; position:relative}
.logo{height:72px}
@media (max-width:720px){ .logo{height:58px} }
.brand{font-weight:900; font-size:22px; color:#062c1b}

/* top-right toolbar */
.header-right{position:absolute; right:12px; top:10px; display:flex; gap:8px; align-items:center}
.btn{padding:12px 16px;border-radius:12px;border:1px solid var(--line);
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));
  color:var(--text);font-weight:900;cursor:pointer;min-width:140px;transition:transform .15s ease, filter .15s ease}
.btn:hover{filter:brightness(1.06)} .btn:active{transform:translateY(1px)}
.btn.primary{background:linear-gradient(90deg,var(--g1),var(--g2));border-color:transparent;color:#062c1b}
.btn.mini{min-width:0;padding:6px 10px;font-weight:800} select.btn{appearance:none}
.btn:focus{outline:3px solid rgba(34,211,238,.35)}

/* Hero */
.hero{ padding:14px 0 4px; }
.hero-grid{ display:grid; grid-template-columns: 1fr 330px; gap:16px; align-items:start }
@media (max-width:980px){ .hero-grid{ grid-template-columns:1fr } }
.hero-left{ display:flex; flex-direction:column; align-items:center; gap:12px; text-align:center }
.hero-card{ width:min(760px,92vw); background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));
  border:1px solid var(--line); border-radius:22px; padding:18px; box-shadow:var(--shadow); }
.hero-title{margin:0 0 6px;font-size:30px;font-weight:900}
.hero-tag{margin:0 0 8px;color:var(--muted)}
.hero-cta{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}

/* Social proof */
.social-proof{ position:sticky; top:calc(var(--header-h) + 12px); }
.proof-card{ background:var(--panel); border:1px solid var(--line); border-radius:16px; padding:12px; box-shadow:var(--shadow); margin-bottom:10px }
.proof-metric{ display:flex; align-items:center; gap:10px; font-weight:900 }
.proof-metric .big{ font-size:26px; background:linear-gradient(90deg,var(--g1),var(--g2)); -webkit-background-clip:text; background-clip:text; color:transparent }
.review{ display:grid; grid-template-columns:auto 1fr; gap:10px; align-items:start }
.avatar{ width:36px; height:36px; border-radius:999px; background:linear-gradient(180deg,#34d399,#16a34a); color:#062c1b; font-weight:900; display:grid; place-items:center }
.stars{ color:#fbbf24; letter-spacing:1px }
.quote{ color:var(--muted); font-size:14px }

/* Layout */
.shell{max-width:1100px;margin:0 auto;padding:0 16px 22px}
.card{background:var(--card);border:1px solid var(--line);border-radius:18px;padding:14px;box-shadow:var(--shadow)}
.section-label{font-size:14px;margin:0 0 8px;color:var(--muted);font-weight:800;display:block}

.inputs{display:grid;grid-template-columns:repeat(4,minmax(220px,1fr));gap:14px}
@media (max-width:1060px){ .inputs{grid-template-columns:repeat(2,minmax(220px,1fr))} }
@media (max-width:720px){ .inputs{grid-template-columns:1fr; gap:12px} }

input{width:100%;border:1px solid var(--line);border-radius:12px;padding:12px;background:#0b1226;color:var(--text)}
:root[data-theme="light"] input{background:#fff;color:#0b1226}
input:focus{outline:none;border-color:#22d3ee;box-shadow:0 0 0 3px rgba(34,211,238,.30)}

.progress{height:12px;background:#0b1226;border:1px solid var(--line);border-radius:999px;overflow:hidden}
:root[data-theme="light"] .progress{background:#fff}
.progress>div{height:100%;width:0%;background:linear-gradient(90deg,var(--g1),var(--g2));transition:width .6s cubic-bezier(.2,.9,.2,1)}

/* Mascot (Grady) */
.mascot{display:grid;place-items:center;position:relative; margin-top:2px}
@keyframes floatCard{0%,100%{transform:translateY(0) rotate(-1.2deg)}50%{transform:translateY(-7px) rotate(1.2deg)}}
.floatA{position:absolute; right:8px; bottom:0; transform:translate(20%,30%); background:linear-gradient(180deg,#34d399,#16a34a); color:#062c1b; border:2px solid #86efac; border-radius:999px; font-weight:900; width:56px; height:56px; display:grid; place-items:center; box-shadow:0 10px 20px rgba(0,0,0,.45)}

/* Overlay & loader */
.overlay{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.55);backdrop-filter:blur(2px);z-index:80}
.overlay.show{display:grid}
.loader{width:520px;max-width:92vw;background:var(--panel);border:1px solid var(--line);border-radius:18px;padding:18px;box-shadow:var(--shadow)}
.load-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.bar{height:14px;border-radius:999px;overflow:hidden;border:1px solid var(--line);background:var(--card)}
.bar .fill{height:100%;width:0;background:repeating-linear-gradient(45deg,#16a34a 0 14px,#34d399 14px 28px);transition:width .25s cubic-bezier(.2,.9,.2,1)}

/* Modal + reveal animations */
.modal{position:fixed; inset:0; display:none; z-index:100; background:rgba(0,0,0,.55); }
.modal.show{display:grid; place-items:center}
.sheet{width:min(920px,94vw); max-height:88vh; overflow:auto; background:var(--panel); border:1px solid var(--line); border-radius:22px; box-shadow:var(--shadow); padding:18px; margin:10px;}
.modal.show .sheet{animation:popIn .45s cubic-bezier(.2,1,.2,1)}
@keyframes popIn{0%{transform:scale(.9);opacity:.0}60%{transform:scale(1.02)}100%{transform:scale(1);opacity:1}}
.sheet-header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px;}
.xbtn{background:#19223d;border:1px solid var(--line); color:#e2e8f0; border-radius:10px; padding:8px 12px; cursor:pointer}
.rc-top{display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:12px}
.rc-mascot{width:54px; height:54px; border-radius:14px; background:linear-gradient(180deg,#eafff3,#c8ffe3); border:2px solid #86EFAC; display:grid; place-items:center; box-shadow:0 8px 20px rgba(0,0,0,.25)}
.rc-mascot.party{animation:wiggle .8s ease 2}
@keyframes wiggle{0%,100%{transform:rotate(0)}25%{transform:rotate(-8deg)}75%{transform:rotate(6deg)}}
.rc-title{font-weight:900; font-size:22px}
.rc-meta{color:#9fb0c7; font-size:14px}
.rc-grade{font-size:56px;font-weight:1000; border-radius:16px; padding:6px 16px; border:2px solid transparent; transform-origin:center}
.rc-grade.good{color:#062c1b; background:linear-gradient(180deg,#34d399,#16a34a); border-color:#86efac}
.rc-grade.mid{color:#062c1b; background:linear-gradient(180deg,#facc15,#f59e0b); border-color:#fde68a}
.rc-grade.bad{color:#fff; background:#ef4444; border-color:#fecaca}
.rc-grade.pop{animation:gradePop .6s cubic-bezier(.2,1,.2,1)}
@keyframes gradePop{0%{transform:scale(.85)}60%{transform:scale(1.15)}100%{transform:scale(1)}}

.rc-head{display:grid; grid-template-columns: 1.2fr 1fr auto; gap:8px; color:#9fb0c7; font-weight:800; font-size:12px; margin-top:6px}
.rc-rows{display:grid; gap:8px; margin-top:6px}
.rc-row{display:grid; grid-template-columns: 1.2fr 1fr auto; gap:8px; align-items:center; background:rgba(255,255,255,.03); border:1px solid var(--line); border-radius:12px; padding:10px;}
.badge{font-weight:900; border:1px solid var(--line); border-radius:10px; padding:6px 10px; text-align:center; display:inline-block}
.badge.good{color:#062c1b;background:linear-gradient(180deg,#34d399,#16a34a); border-color:#86efac}
.badge.mid{color:#062c1b;background:linear-gradient(180deg,#facc15,#f59e0b)}
.badge.bad{color:#fff;background:#ef4444}

/* Path to next grade */
.path{ margin-top:12px; border-top:1px dashed var(--line); padding-top:10px }
.path h4{ margin:0 0 8px; font-size:18px }
.path ol{ margin:0; padding-left:20px }
.path li{ margin:6px 0; color:#cbd5e1 }
.path .pts{ font-weight:900; color:#86efac; }

/* Footer + sticky CTA */
footer{background:#0b1226; border-top:1px solid var(--line); margin-top:22px; padding:22px 16px; color:#cbd5e1; font-size:14px}
:root[data-theme="light"] footer{background:#ffffff}
.fwrap{max-width:1000px; margin:0 auto; display:flex; flex-direction:column; align-items:center; gap:8px}
.fcontact{display:flex; gap:8px; align-items:center; flex-wrap:wrap; justify-content:center}
.pill{padding:8px 12px; border:1px solid var(--line); border-radius:999px; background:rgba(255,255,255,.03); color:#3fb7ff}
.mobile-cta{position:fixed;left:0;right:0;bottom:0;padding:10px;background:rgba(15,23,42,.86); border-top:1px solid rgba(148,163,184,.22);display:none;z-index:90}
.mobile-cta.on{display:block}

/* Small tweaks */
svg, img { display:block; max-width:100%; height:auto; }
@media (max-width:720px){ .hero-card{ padding:14px } .inputs{ gap:10px } .card{ padding:12px } }

/* Print */
@media print{
  body{background:#fff}
  header,.hero,.shell,.mobile-cta,footer,#confetti,#overlay{display:none!important}
  #reportModal{position:static!important;display:block!important;background:#fff!important}
  .sheet{max-height:none!important;box-shadow:none!important;border:none!important}
}
</style>
</head>
<body>

<!-- Confetti canvas -->
<canvas id="confetti" style="position:fixed; inset:0; pointer-events:none; z-index:150;"></canvas>

<header>
  <div class="hdr">
    <!-- Logo -->
    <svg class="logo" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg" aria-label="GMF logo">
      <defs>
        <radialGradient id="gSphere" cx="50%" cy="40%" r="70%"><stop offset="0" stop-color="#b9f4d1"/><stop offset=".55" stop-color="#34d399"/><stop offset="1" stop-color="#128a3f"/></radialGradient>
        <linearGradient id="paper" x1="0" x2="0" y1="0" y2="1"><stop offset="0" stop-color="#ffffff"/><stop offset="1" stop-color="#e8ffe9"/></linearGradient>
      </defs>
      <g transform="translate(20,14)">
        <circle cx="40" cy="45" r="38" fill="url(#gSphere)"/>
        <circle cx="40" cy="45" r="38" fill="none" stroke="rgba(255,255,255,.35)" stroke-width="2"/>
        <text x="40" y="58" text-anchor="middle" font-size="44" font-weight="1000" fill="#072b19" stroke="#eafff3" stroke-width="1.6" paint-order="stroke">G</text>
      </g>
      <g transform="translate(110,10) rotate(-9)">
        <rect width="70" height="94" rx="12" fill="url(#paper)" stroke="#86EFAC" stroke-width="2"/>
        <g stroke="#10B981" stroke-width="2"><line x1="12" y1="28" x2="58" y2="28"/><line x1="12" y1="42" x2="58" y2="42"/><line x1="12" y1="56" x2="58" y2="56"/></g>
        <text x="35" y="76" text-anchor="middle" font-size="24" font-weight="900" fill="#ef4444">A+</text>
      </g>
    </svg>
    <div class="brand">Grade My Finance</div>
  </div>

  <!-- Top-right toolbar -->
  <div class="header-right">
    <select id="currencySel" class="btn mini" aria-label="Currency">
      <option>USD</option><option>EUR</option><option>GBP</option><option>CAD</option><option>AUD</option>
    </select>
    <button id="themeToggle" class="btn mini" type="button" aria-label="Toggle theme">🌙/☀️</button>
  </div>
</header>

<section class="container hero">
  <div class="hero-grid">
    <div class="hero-left">
      <div class="hero-card">
        <h1 class="hero-title">Get your free money grade in seconds</h1>
        <p class="hero-tag">No sign-up. Plug in numbers → get a score. Simple and effective.</p>
        <div class="hero-cta">
          <button class="btn" id="demoBtn" type="button">Try Demo</button>
          <button class="btn primary" id="gradeBtnTop" type="button">Get My Report Card</button>
          <button class="btn" id="copyLink" type="button">Copy share link</button>
        </div>
      </div>

      <div class="mascot">
        <!-- Grady -->
        <svg viewBox="0 0 280 260" width="240" aria-hidden="true" style="animation:floatCard 3s ease-in-out infinite">
          <defs><linearGradient id="mc" x1="0" x2="0" y1="0" y2="1"><stop offset="0" stop-color="#E8FFF2"/><stop offset="1" stop-color="#CFFDE7"/></linearGradient></defs>
          <ellipse cx="140" cy="238" rx="60" ry="14" fill="rgba(0,0,0,.28)"/>
          <rect x="56" y="44" width="168" height="168" rx="28" fill="url(#mc)" stroke="#86EFAC" stroke-width="3"/>
          <circle cx="110" cy="104" r="8" fill="#0f172a"/><circle cx="170" cy="104" r="8" fill="#0f172a"/>
          <path d="M114 130 q26 22 52 0" stroke="#16a34a" stroke-width="6" fill="none" stroke-linecap="round"/>
          <g stroke="#a7f3d0" stroke-width="2">
            <line x1="84" y1="154" x2="196" y2="154"/><line x1="84" y1="170" x2="196" y2="170"/><line x1="84" y1="186" x2="196" y2="186"/>
          </g>
          <g transform="translate(190,140) rotate(-10)">
            <rect x="-2" y="-2" width="60" height="46" rx="8" fill="#ffffff" stroke="#86EFAC" stroke-width="2"/>
            <text x="28" y="30" text-anchor="middle" font-size="18" font-weight="900" fill="#ef4444">A+</text>
          </g>
        </svg>
        <div class="floatA" aria-hidden="true">A+</div>
      </div>
    </div>

    <!-- Social proof / reviews -->
    <aside class="social-proof" aria-label="Reviews and stats">
      <div class="proof-card">
        <div class="proof-metric">
          <div class="big">1,000+</div>
          <div>report cards graded</div>
        </div>
        <div style="color:var(--muted);font-size:13px;margin-top:6px">Since launch. Educational only — not financial advice.</div>
      </div>

      <div class="proof-card review">
        <div class="avatar">AL</div>
        <div>
          <div class="stars">★★★★★</div>
          <div class="quote">“Made my budget click. The tips felt doable and I loved the grade reveal.”</div>
        </div>
      </div>

      <div class="proof-card review">
        <div class="avatar">JR</div>
        <div>
          <div class="stars">★★★★★</div>
          <div class="quote">“Helped me set a target emergency fund and pay down cards faster.”</div>
        </div>
      </div>

      <div class="proof-card review">
        <div class="avatar">SM</div>
        <div>
          <div class="stars">★★★★☆</div>
          <div class="quote">“Clear next steps — I printed the report for my fridge.”</div>
        </div>
      </div>
    </aside>
  </div>
</section>

<!-- Inputs -->
<div class="shell">
  <main>
    <section id="grade" class="page active">
      <div class="inputs">
        <!-- Housing mode -->
        <div class="card" style="grid-column:1/-1;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
          <span class="section-label" style="margin:0">Housing</span>
          <button id="modeOwner" class="btn" type="button">Owner</button>
          <button id="modeRenter" class="btn" type="button">Renter</button>
        </div>

        <div class="card"><label class="section-label" for="income">Monthly Income (after-tax)</label><input id="income" type="number" value="0" min="0"></div>
        <div class="card"><label class="section-label" for="expenses">Monthly Expenses</label><input id="expenses" type="number" value="0" min="0"></div>
        <div class="card"><label class="section-label" for="age">Age</label><input id="age" type="number" value="30" min="16" max="100"></div>
        <div class="card" id="homeCard"><label class="section-label" for="home">Home Value</label><input id="home" type="number" value="0" min="0"><div class="section-label" id="assetsHint" style="margin-top:6px">Total Assets: —</div></div>

        <div class="card"><label class="section-label" for="retire">Retirement (401k/IRA)</label><input id="retire" type="number" value="0" min="0"></div>
        <div class="card"><label class="section-label" for="brokerage">Brokerage / Stocks</label><input id="brokerage" type="number" value="0" min="0"></div>
        <div class="card"><label class="section-label" for="hsa">HSA</label><input id="hsa" type="number" value="0" min="0"></div>
        <div class="card"><label class="section-label" for="cash">Cash Savings</label><input id="cash" type="number" value="0" min="0"></div>

        <div class="card"><label class="section-label" for="car">Car Value</label><input id="car" type="number" value="0" min="0"></div>
        <div class="card" id="mortCard"><label class="section-label" for="mortgage">Mortgage Balance</label><input id="mortgage" type="number" value="0" min="0"><div class="section-label" id="liabHint" style="margin-top:6px">Total Liabilities: —</div></div>
        <div class="card"><label class="section-label" for="student">Student Loans</label><input id="student" type="number" value="0" min="0"></div>
        <div class="card"><label class="section-label" for="auto">Auto Loans</label><input id="auto" type="number" value="0" min="0"></div>

        <div class="card"><label class="section-label" for="cc">Credit Cards (balance)</label><input id="cc" type="number" value="0" min="0"></div>

        <div class="card" style="grid-column:1/-1">
          <div style="display:flex;gap:8px;justify-content:space-between;align-items:center;flex-wrap:wrap">
            <button id="resetBtn" class="btn" type="button">Reset</button>
            <button id="gradeBtn" class="btn primary" type="button">Get My Report Card</button>
          </div>
          <div class="progress" style="margin:10px 0"><div id="progressFill"></div></div>
        </div>
      </div>
    </section>
  </main>
</div>

<!-- Loader -->
<div id="overlay" class="overlay" aria-live="polite" aria-busy="true">
  <div class="loader">
    <div class="load-row"><strong id="loadMsg">Crunching numbers…</strong><span id="pct">0%</span></div>
    <div class="bar"><div class="fill" id="barFill"></div></div>
  </div>
</div>

<!-- Report Modal -->
<div id="reportModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="rcTitle">
  <div class="sheet">
    <div class="sheet-header">
      <div class="rc-top">
        <div class="rc-mascot" id="rcMascot" aria-hidden="true">
          <svg viewBox="0 0 64 64" width="38" height="38">
            <rect x="6" y="6" width="52" height="52" rx="12" fill="#eafff3"/>
            <circle cx="26" cy="28" r="3.5" fill="#0f172a"/><circle cx="42" cy="28" r="3.5" fill="#0f172a"/>
            <path d="M22 38 q10 8 20 0" stroke="#16a34a" stroke-width="4" fill="none" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="rc-titlewrap">
          <div id="rcTitle" class="rc-title">Your Report Card</div>
          <div id="rcMeta" class="rc-meta">—</div>
        </div>
        <div id="rcGrade" class="rc-grade">A</div>
      </div>
      <button class="xbtn" id="closeReport" type="button">Close</button>
    </div>
    <div class="rc-head"><div>Category</div><div>Details</div><div>Grade</div></div>
    <div class="rc-rows" id="rcRows"></div>

    <!-- Path to higher grade -->
    <div class="path">
      <h4>Path to a higher grade</h4>
      <ol id="pathList"></ol>
      <div style="font-size:12px;color:#9fb0c7;margin-top:6px">Est. point gains are approximate based on our weighting.</div>
    </div>

    <div class="rc-actions" style="display:flex; gap:8px; justify-content:flex-end; margin-top:12px; flex-wrap:wrap">
      <button class="btn" id="shareReport" type="button" title="Share only your overall letter & score">Share</button>
      <button class="btn" id="printReport" type="button">Print / Save as PDF</button>
      <button class="btn primary" id="calcAgain" type="button">Recalculate</button>
    </div>
  </div>
</div>

<!-- Subscribe -->
<section class="container" style="max-width:900px; margin:30px auto; padding:18px;background:var(--panel); border:1px solid var(--line); border-radius:18px; box-shadow:var(--shadow)">
  <h3 style="margin:0 0 6px; font-size:20px">Get simple money tips & updates</h3>
  <p style="margin:6px 0 12px; color:#9fb0c7">No spam, unsubscribe anytime.</p>
  <form id="subForm" style="display:flex; gap:10px; flex-wrap:wrap" action="https://formspree.io/f/xvgblayy" method="POST">
    <input type="email" name="email" id="subEmail" placeholder="you@example.com" required style="flex:1 1 280px; padding:12px; border-radius:12px; border:1px solid var(--line); background:#0b1226; color:#e2e8f0;">
    <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />
    <input type="hidden" name="_subject" value="New Grade My Finance subscriber" />
    <button type="submit" class="btn primary">Subscribe</button>
  </form>
</section>

<div style="position:fixed; left:50%; bottom:22px; transform:translateX(-50%); background:#0b1226; color:#e2e8f0; border:1px solid var(--line); border-radius:12px; padding:10px 14px; box-shadow:var(--shadow); display:none; z-index:120" id="toast" role="status" aria-live="polite">Thanks! Check your inbox for a confirmation.</div>

<!-- Sticky CTA -->
<div class="mobile-cta" id="mobileCta">
  <button id="gradeBtnSticky" class="btn primary" type="button">Get My Report Card</button>
</div>

<footer>
  <div class="fwrap">
    <div class="fcontact"><span class="pill">Contact</span> <a class="pill" href="mailto:grademyfinance@gmail.com">grademyfinance@gmail.com</a></div>
    <div class="fnote">© 2025 Grade My Finance — educational use only (not financial advice).</div>
  </div>
</footer>

<script>
"use strict";
(function(){
  function $(id){ return document.getElementById(id); }
  function qs(sel){ return document.querySelector(sel); }

  /* ===== Helpers & curves ===== */
  var NW_CURVE=[[25,0.2],[30,0.5],[35,1.0],[40,1.5],[45,2.5],[50,3.5],[55,5.0],[60,6.5]];
  function clamp(x,a,b){ return Math.max(a,Math.min(b,x)); }
  function map01(x,a,b){ return clamp((x-a)/(b-a),0,1); }
  function targetNW(age){
    if(age<=NW_CURVE[0][0]) return NW_CURVE[0][1];
    if(age>=NW_CURVE[NW_CURVE.length-1][0]) return NW_CURVE[NW_CURVE.length-1][1];
    for(var i=1;i<NW_CURVE.length;i++){
      var a0=NW_CURVE[i-1][0], t0=NW_CURVE[i-1][1], a1=NW_CURVE[i][0], t1=NW_CURVE[i][1];
      if(age<=a1){ var t=(age-a0)/(a1-a0); return t0+(t1-t0)*t; }
    }
    return NW_CURVE[NW_CURVE.length-1][1];
  }
  function overallLetter(s){ return s>=97?"A+":s>=93?"A":s>=90?"A-":s>=87?"B+":s>=83?"B":s>=80?"B-":s>=77?"C+":s>=73?"C":s>=70?"C-":s>=67?"D+":s>=63?"D":s>=60?"D-":"F"; }
  function letterFrom01(s){ return overallLetter(Math.round(s*100)); }
  function incomeLetterFromRatio(r){ return r>=2.2?"A+": r>=1.8?"A": r>=1.5?"A-": r>=1.3?"B+": r>=1.15?"B": r>=1.0?"B-": r>=0.9?"C+": r>=0.8?"C": r>=0.7?"C-": r>=0.6?"D": "F"; }
  function badgeClass(l){ return (["A+","A","A-","B+"].indexOf(l)>-1)?"badge good":((["B","B-","C+","C","C-"].indexOf(l)>-1)?"badge mid":"badge bad"); }

  /* ===== Theme & currency ===== */
  var root=document.documentElement;
  var savedTheme=localStorage.getItem("gmf_theme"); if(savedTheme==="light") root.dataset.theme="light";
  $("themeToggle").addEventListener("click", function(){
    var next=root.dataset.theme==="light"?"":"light"; root.dataset.theme=next; localStorage.setItem("gmf_theme", next||"dark");
    __track('toggle_theme', {theme: next||'dark'});
  });
  var CURRENCY=localStorage.getItem("gmf_curr")||"USD";
  var curSel=$("currencySel"); curSel.value=CURRENCY;
  curSel.addEventListener("change", function(){ CURRENCY=curSel.value; localStorage.setItem("gmf_curr",CURRENCY); updateHints(); __track('change_currency',{currency:CURRENCY}); });
  function money(n){ return isFinite(n)? new Intl.NumberFormat(undefined,{style:"currency",currency:CURRENCY,maximumFractionDigits:0}).format(Math.round(n)) : "—"; }

  /* ===== Inputs & hygiene ===== */
  var ids=["age","income","expenses","home","retire","brokerage","car","hsa","cash","mortgage","student","auto","cc"];
  var els={}; ids.forEach(function(id){ els[id]=$(id); });
  function val(id){ var e=els[id]; return e && e.value!=="" ? Number(e.value) : 0; }
  ids.forEach(function(id){
    var e=els[id]; e.addEventListener("input", function(){ e.value=e.value.replace(/[^\d.-]/g,""); });
    e.addEventListener("blur", function(){ if(e.value!=="") e.value=String(Math.round(+e.value)); updateHints(); });
  });

  /* ===== Values & hints ===== */
  function values(){
    var v={}; ids.forEach(function(id){ v[id]=val(id); });
    v.assets=v.home+v.retire+v.brokerage+v.car+v.hsa+v.cash;
    v.liabs=v.mortgage+v.student+v.auto+v.cc;
    v.net=v.assets-v.liabs;
    v.annualIncome=v.income*12; v.annualSpend=v.expenses*12;
    v.baseline=Math.max(v.annualSpend, 30000);
    var denomSav=Math.max(v.income, v.expenses, 2000);
    v.saveRate=denomSav>0 ? Math.max(0, v.income - v.expenses)/denomSav : 0;
    v.efMonths=v.expenses>0 ? v.cash/v.expenses : 0;
    v.nonMortDebt=v.student+v.auto+v.cc;
    v.dtiNonMort = v.baseline>0 ? v.nonMortDebt/v.baseline : 1;
    v.nwTargetMultiple = targetNW(v.age||30);
    v.nwTargetAmount = v.nwTargetMultiple * v.baseline;
    v.nwProgress = v.nwTargetAmount>0 ? v.net/v.nwTargetAmount : 0;
    var ratio = v.annualIncome / 70000;
    v.incomeScore = clamp(0.5 + 0.5*Math.tanh((ratio-1)*1.2), 0, 1);
    v.incomeLetter = incomeLetterFromRatio(ratio);
    return v;
  }
  function updateHints(){ var v=values(); $("assetsHint").textContent="Total Assets: "+money(v.assets); $("liabHint").textContent="Total Liabilities: "+money(v.liabs); }

  /* ===== Housing mode ===== */
  function setHousing(mode){
    var show = (mode==="owner");
    qs("#homeCard").style.display = show ? "" : "none";
    qs("#mortCard").style.display = show ? "" : "none";
    if(!show){ els.home.value=0; els.mortgage.value=0; }
    localStorage.setItem("gmf_housing",mode);
    updateHints();
  }
  $("modeOwner").addEventListener("click", function(){ setHousing("owner"); __track('select_housing',{mode:'owner'}); });
  $("modeRenter").addEventListener("click", function(){ setHousing("renter"); __track('select_housing',{mode:'renter'}); });
  setHousing(localStorage.getItem("gmf_housing")||"owner");

  /* ===== Scoring ===== */
  function categoryScores(v){
    var sSave = map01(v.saveRate, 0, 0.25);
    var sEF   = map01(v.efMonths, 0, 6);
    var sDebt = clamp(1 - v.dtiNonMort/0.50, 0, 1);
    var sAgeNW = Math.pow(clamp(v.nwProgress, 0, 1.0), 0.85);
    var sInc  = v.incomeScore;
    var weighted = (sSave*0.15 + sEF*0.10 + sDebt*0.05 + sAgeNW*0.65 + sInc*0.05)*100;
    var score = (v.annualSpend>0 && v.net >= 25*Math.max(v.annualSpend, 30000)) ? Math.max(weighted,94) : weighted;

    function saveShortfall(){ return Math.max(0, v.income*0.25 - (v.income - v.expenses)); }

    return {
      s:{sSave:sSave,sEF:sEF,sDebt:sDebt,sAgeNW:sAgeNW,sInc:sInc},
      components: [
        { key:"Savings rate", sub:"Toward 25% target", val:Math.round(v.saveRate*100)+"% of take-home",
          letter:letterFrom01(sSave),
          tip: v.saveRate<0.25 ? "Aim for 25%. You're short ~"+money(saveShortfall())+"/mo." : "Great job—stay consistent." },
        { key:"Emergency fund", sub:"Goal 6 months", val:v.efMonths.toFixed(1)+" months",
          letter:letterFrom01(sEF),
          tip: v.efMonths<6 ? "Save ~"+money(Math.round((v.expenses*6 - v.cash)/6))+"/mo to reach 6 months." : "Solid cushion — keep it liquid." },
        { key:"Debt load (non-mort.)", sub:"Lower is better", val:Math.round(v.dtiNonMort*100)+"% of baseline",
          letter:letterFrom01(sDebt),
          tip: v.dtiNonMort>0.25 ? "Add "+money(Math.round(v.baseline*0.05))+"/mo to highest APR first." : "Healthy debt level." },
        { key:"Age-based net worth", sub:"Target "+v.nwTargetMultiple.toFixed(2)+"× baseline", val:Math.round(v.nwProgress*100)+"% of age target",
          letter:letterFrom01(sAgeNW),
          tip: v.nwProgress<1 ? "Gap ~"+money(Math.max(0, v.nwTargetAmount - v.net))+". Invest steadily." : "You're ahead — nice!" },
        { key:"Income strength", sub:"vs median", val:money(v.annualIncome)+"/yr",
          letter:v.incomeLetter,
          tip: (v.annualIncome < 70000*1.15) ? "Plan skill/raise to reach "+money(Math.round(70000*1.15))+"+." : "Automate investing + match." }
      ],
      overall: { score: Math.round(score*10)/10, letter: overallLetter(Math.round(score*10)/10) }
    };
  }

  /* ===== Path to a higher grade (heuristic) ===== */
  function nextLetterTarget(score){
    var bounds=[60,63,67,70,73,77,80,83,87,90,93,97];
    for(var i=0;i<bounds.length;i++){ if(score<bounds[i]) return bounds[i]; }
    return null;
  }
  function buildPath(v,cats){
    var goal = nextLetterTarget(cats.overall.score);
    var items=[];
    function push(txt, pts){ items.push({txt:txt, pts:Math.max(0, Math.round(pts))}); }

    if(goal===null){ return [{txt:"You’re already at A+. Keep compounding and maintaining your buffers!", pts:0}]; }

    if(v.saveRate < 0.25){
      var dSave=(1 - map01(v.saveRate,0,0.25))*0.15*100;
      var need = Math.max(0, v.income*0.25 - (v.income - v.expenses));
      push("Boost savings to 25% (set aside about "+money(need)+"/mo).", dSave);
    }
    if(v.efMonths < 6){
      var dEF=(1 - map01(v.efMonths,0,6))*0.10*100;
      var efNeed = Math.max(0, v.expenses*6 - v.cash);
      push("Build emergency fund to 6 months (save ~"+money(Math.round(efNeed/6))+"/mo for 6 months).", dEF);
    }
    if(v.dtiNonMort > 0.25){
      var sDebtNow = clamp(1 - v.dtiNonMort/0.50,0,1), sDebtGoal = clamp(1 - 0.25/0.50,0,1);
      var dDebt=(sDebtGoal - sDebtNow)*0.05*100;
      var targetDebt = Math.round(v.baseline*0.25), paydown = Math.max(0, v.nonMortDebt - targetDebt);
      push("Pay down non-mortgage debt below 25% of baseline (reduce about "+money(paydown)+", e.g., "+money(Math.round(v.baseline*0.05))+"/mo).", dDebt);
    }
    if(v.nwProgress < 1){
      var sAgeNow=Math.pow(clamp(v.nwProgress,0,1),0.85), sAgeGoal=1;
      var dAge=(sAgeGoal - sAgeNow)*0.65*100;
      var gap = Math.max(0, v.nwTargetAmount - v.net);
      push("Close the age-based net worth gap (~"+money(gap)+"). Consider investing ~"+money(Math.round(gap/36))+"/mo for ~36 months.", dAge);
    }
    var ratio = v.annualIncome/70000;
    if(ratio < 1.15){
      var sIncNow = clamp(0.5 + 0.5*Math.tanh((ratio-1)*1.2),0,1);
      var sIncGoal = clamp(0.5 + 0.5*Math.tanh((1.15-1)*1.2),0,1);
      var dInc=(sIncGoal - sIncNow)*0.05*100;
      var targetAnnual = Math.round(70000*1.15), delta = Math.max(0, targetAnnual - v.annualIncome);
      push("Grow income toward "+money(targetAnnual)+"/yr (≈ "+money(Math.round(delta/12))+"/mo via raise or side income).", dInc);
    }

    items.sort(function(a,b){ return b.pts - a.pts; });
    return items.slice(0,3);
  }

  /* ===== Confetti ===== */
  var cf=$("confetti"), ctx=cf.getContext("2d");
  function resizeC(){ cf.width=innerWidth; cf.height=innerHeight }
  addEventListener("resize",resizeC); resizeC();
  function confettiBurst(n){
    n = n||260;
    var bits=[];
    for(var i=0;i<n;i++){
      bits.push({x:Math.random()*cf.width,y:-20-Math.random()*120,vx:(Math.random()-.5)*3,vy:2+Math.random()*3.5,r:4+Math.random()*7,a:Math.random()*Math.PI,spin:(Math.random()-.5)*0.28,clr:"hsl("+(Math.random()*360)+",90%,60%)"});
    }
    var t=0;
    (function anim(){
      t++;
      ctx.clearRect(0,0,cf.width,cf.height);
      for(var j=0;j<bits.length;j++){
        var b=bits[j]; b.x+=b.vx; b.y+=b.vy; b.a+=b.spin;
        ctx.save(); ctx.translate(b.x,b.y); ctx.rotate(b.a);
        ctx.fillStyle=b.clr; ctx.fillRect(-b.r/2,-b.r/2,b.r,b.r); ctx.restore();
      }
      if(t<220) requestAnimationFrame(anim); else ctx.clearRect(0,0,cf.width,cf.height);
    })();
  }

  /* ===== Overlay & modal ===== */
  var overlay=$("overlay"), bar=$("barFill"), pct=$("pct"), loadMsg=$("loadMsg");
  function runWithLoader(fnDone){
    var steps=["Checking savings rate…","Measuring emergency fund runway…","Comparing net worth vs age…","Weighing debt load…","Factoring income strength…"];
    var i=0, prog=0, total=steps.length+2, interval=1400/total;
    overlay.classList.add("show"); bar.style.width="0%"; pct.textContent="0%"; loadMsg.textContent="Crunching numbers…";
    var t=setInterval(function(){
      prog=Math.min(100,Math.round(((i+1)/total)*100));
      bar.style.width=prog+"%"; pct.textContent=prog+"%";
      loadMsg.textContent = steps[i] || "Finalizing…";
      i++;
      if(i>=total){ clearInterval(t); overlay.classList.remove("show"); fnDone(); }
    }, interval);
  }

  var modal=$("reportModal"), rcRows=$("rcRows"), rcGrade=$("rcGrade"), rcMeta=$("rcMeta"), rcMascot=$("rcMascot"), pathList=$("pathList");

  // store last overall result for sharing (letter + score only)
  var lastOverall = null;

  function openReport(v,cats){
    lastOverall = { letter: cats.overall.letter, score: cats.overall.score }; // <= ONLY this gets shared
    rcMeta.textContent="Overall "+cats.overall.score.toFixed(1)+"/100 • Net worth "+money(v.net)+" • Assets "+money(v.assets)+" • Liabilities "+money(v.liabs);
    rcGrade.textContent=cats.overall.letter;
    rcGrade.className="rc-grade "+(
      ["A+","A","A-","B+"].indexOf(cats.overall.letter)>-1?"good":
      (["B","B-","C+","C","C-"].indexOf(cats.overall.letter)>-1?"mid":"bad"));
    rcRows.innerHTML="";

    cats.components.forEach(function(c){
      var row=document.createElement("div"); row.className="rc-row";
      row.innerHTML=
        '<div class="rc-cell"><div class="label" title="'+c.sub+'">'+c.key+
        '</div><div class="sub">'+c.sub+'</div></div>'+
        '<div class="rc-cell detail-col"><div class="detail">'+c.val+
        '</div><div class="tip">'+c.tip+'</div></div>'+
        '<div class="rc-cell"><span class="'+badgeClass(c.letter)+'">'+c.letter+'</span></div>';
      rcRows.appendChild(row);
    });

    // Path to higher grade
    var actions = buildPath(v,cats);
    pathList.innerHTML="";
    actions.forEach(function(a){
      var li=document.createElement("li");
      li.innerHTML = a.txt + ' <span class="pts">≈ +' + a.pts + ' pts</span>';
      pathList.appendChild(li);
    });

    // Reveal flair
    modal.classList.add("show");
    rcGrade.classList.remove("pop"); void rcGrade.offsetWidth; rcGrade.classList.add("pop");
    rcMascot.classList.remove("party"); void rcMascot.offsetWidth; rcMascot.classList.add("party");
    if(["A+","A","A-","B+","B","B-"].indexOf(cats.overall.letter)>-1){ confettiBurst(320); }
    __track('view_report_card', {letter: cats.overall.letter, score: cats.overall.score});
  }
  $("closeReport").addEventListener("click",function(){ modal.classList.remove("show"); });
  $("printReport").addEventListener("click",function(){ window.print(); __track('print_report'); });
  $("calcAgain").addEventListener("click",function(){ modal.classList.remove("show"); });

  /* ===== Grade sequence (with loader + reveal) ===== */
  function gradeNow(){
    __track('click_get_report_card', {location: 'main'});
    runWithLoader(function(){
      var v=values();
      var cats=categoryScores(v);
      openReport(v,cats);
    });
  }

  /* ===== Buttons ===== */
  $("gradeBtnTop").addEventListener("click", function(){ __track('click_get_report_card',{location:'hero'}); gradeNow(); });
  $("gradeBtn").addEventListener("click", gradeNow);
  $("gradeBtnSticky").addEventListener("click", function(){ __track('click_get_report_card',{location:'sticky'}); gradeNow(); });

  /* ===== Demo (realistic + small + negative NW common) ===== */
  function randomDemo(){
    __track('click_demo');
    function r(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
    function pickWeighted(entries){
      var x=Math.random(), cum=0;
      for(var i=0;i<entries.length;i++){ cum+=entries[i].w; if(x<cum) return entries[i].v; }
      return entries[entries.length-1].v;
    }

    var scenario = pickWeighted([
      { w:0.40, v:"starter_renter" },
      { w:0.25, v:"stressed_debt" },
      { w:0.25, v:"balanced_owner" },
      { w:0.10, v:"ahead_owner" }
    ]);

    var d={age:0,income:0,expenses:0,home:0,retire:0,brokerage:0,car:0,hsa:0,cash:0,mortgage:0,student:0,auto:0,cc:0};

    if(scenario==="starter_renter"){
      setHousing("renter");
      d.age = r(20,35);
      d.income = r(1600,3800);
      d.expenses = r(Math.floor(d.income*0.70), Math.floor(d.income*1.10));
      d.home=0; d.mortgage=0;
      d.cash = r(50,2000);
      d.retire = r(0,3000);
      d.brokerage = r(0,1200);
      d.hsa = r(0,500);
      d.car = r(0,8000);
      d.student = r(0,30000);
      d.auto = r(0,12000);
      d.cc = r(500,5000);

    }else if(scenario==="stressed_debt"){
      setHousing("renter");
      d.age = r(24,45);
      d.income = r(2200,6000);
      d.expenses = r(Math.floor(d.income*0.85), Math.floor(d.income*1.10));
      d.home=0; d.mortgage=0;
      d.cash = r(0,1500);
      d.retire = r(0,12000);
      d.brokerage = r(0,5000);
      d.hsa = r(0,1000);
      d.car = r(2000,20000);
      d.student = r(10000,50000);
      d.auto = r(5000,28000);
      d.cc = r(1500,9000);

    }else if(scenario==="balanced_owner"){
      setHousing("owner");
      d.age = r(28,55);
      d.income = r(4000,9000);
      d.expenses = r(Math.floor(d.income*0.60), Math.floor(d.income*0.80));
      d.home = r(180000,600000);
      var ltv = r(60,90)/100;
      d.mortgage = Math.max(0, Math.floor(d.home*ltv) - r(0,20000));
      d.cash = r(1000,15000);
      d.retire = r(20000,120000);
      d.brokerage = r(5000,60000);
      d.hsa = r(0,4000);
      d.car = r(3000,20000);
      d.student = r(0,25000);
      d.auto = r(0,15000);
      d.cc = r(0,4000);

    }else{
      setHousing("owner");
      d.age = r(30,60);
      d.income = r(8000,15000);
      d.expenses = r(Math.floor(d.income*0.55), Math.floor(d.income*0.75));
      d.home = r(350000,1200000);
      var ltv2 = r(30,70)/100;
      d.mortgage = Math.max(0, Math.floor(d.home*ltv2) - r(0,50000));
      d.cash = r(5000,60000);
      d.retire = r(100000,400000);
      d.brokerage = r(60000,250000);
      d.hsa = r(0,8000);
      d.car = r(5000,40000);
      d.student = r(0,15000);
      d.auto = r(0,15000);
      d.cc = r(0,3000);
    }

    var assets = d.home + d.retire + d.brokerage + d.car + d.hsa + d.cash;
    var liabs  = d.mortgage + d.student + d.auto + d.cc;
    if((scenario==="starter_renter" || scenario==="stressed_debt") && assets - liabs >= 0){
      var pushNeg = (assets - liabs) + r(500,4000);
      d.cc += pushNeg;
    }

    Object.keys(d).forEach(function(id){ var el=document.getElementById(id); if(el) el.value=d[id]; });
    updateHints();
  }
  $("demoBtn").addEventListener("click", randomDemo);

  /* ===== Reset ===== */
  $("resetBtn").addEventListener("click", function(){
    ids.forEach(function(id){ if(els[id]) els[id].value = (id==="age") ? 30 : 0; });
    updateHints();
    __track('reset_inputs');
  });

  /* ===== Share link (full inputs) ===== */
  function shareLink(){
    var s={}; ids.forEach(function(id){ s[id]=Number(els[id]?els[id].value:0); });
    return location.origin+location.pathname+"#s="+encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(s)))));
  }
  $("copyLink").addEventListener("click", function(){
    var url=shareLink();
    if(navigator.clipboard && navigator.clipboard.writeText){ navigator.clipboard.writeText(url).then(function(){ alert("Share link copied!"); }).catch(function(){ alert(url); }); }
    else { alert(url); }
    __track('copy_share_link');
  });

  /* ===== Hydrate from shared link ===== */
  try{
    var m=location.hash.match(/#s=([^&]+)/);
    if(m){ var obj=JSON.parse(decodeURIComponent(escape(atob(decodeURIComponent(m[1])))));
      Object.keys(obj).forEach(function(id){ if(els[id]) els[id].value=obj[id]; });
      updateHints();
      __track('hydrate_from_share');
    }
  }catch(e){/* ignore */}

  /* ===== Subscribe (Formspree) ===== */
  var subForm=$("subForm"), subEmail=$("subEmail"), toast=$("toast");
  subForm.addEventListener("submit", function(e){
    e.preventDefault();
    var email=subEmail.value.trim();
    if(!/^\S+@\S+\.\S+$/.test(email)){ alert("Please enter a valid email."); return; }
    fetch(subForm.action, { method:"POST", headers:{"Accept":"application/json","Content-Type":"application/json"}, body:JSON.stringify({email:email,source:"grademyfinance.com"}) })
      .then(function(res){
        if(res.ok){ toast.textContent="Thanks! Check your inbox for a confirmation."; toast.style.display="block"; setTimeout(function(){toast.style.display="none"},2800); subEmail.value=""; __track('subscribe_success'); }
        else if(res.status===404){ alert("Form not found — verify your Formspree form ID."); __track('subscribe_error',{code:404}); }
        else{ alert("Signup failed. Please try again later."); __track('subscribe_error',{code:res.status}); }
      })
      .catch(function(){ alert("Network error. Please try again later."); __track('subscribe_error',{code:'network'}); });
  });

  /* ===== Sticky CTA on mobile ===== */
  var mcta=$("mobileCta");
  function onScroll(){ mcta.classList.toggle("on", window.scrollY>300 && window.matchMedia("(max-width: 720px)").matches ); }
  window.addEventListener("scroll", onScroll); onScroll();

  /* ===== Report share (letter + score only) ===== */
  $("shareReport").addEventListener("click", function(){
    if(!lastOverall){ alert("Run a calculation first, then share your result."); return; }
    var baseUrl = location.origin + location.pathname;
    var text = "I just got a " + lastOverall.letter + " (" + lastOverall.score.toFixed(1) + "/100) on Grade My Finance — get your free report card:";
    var shareData = { title:"My Grade My Finance score", text:text, url:baseUrl };

    function fallbackCopy(){
      var clip = text + " " + baseUrl;
      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(clip).then(function(){
          toast.textContent="Summary copied! Paste anywhere to share.";
          toast.style.display="block"; setTimeout(function(){toast.style.display="none"},2600);
        }).catch(function(){ alert(clip); });
      } else {
        alert(clip);
      }
    }

    if(navigator.share){
      navigator.share(shareData).then(function(){ __track('share_report_native'); }).catch(function(err){
        if(!(err && (err.name==="AbortError" || err.name==="NotAllowedError"))) { fallbackCopy(); __track('share_report_fallback'); }
      });
    } else {
      fallbackCopy();
      __track('share_report_fallback');
    }
  });

  /* ===== Grade button on main inputs ===== */
  var progressFill = $("progressFill");
  function fakeProgress(){ /* visually fills bar while loader runs */ progressFill.style.width="100%"; setTimeout(function(){ progressFill.style.width="0%"; }, 1600); }
  ["gradeBtnTop","gradeBtn","gradeBtnSticky"].forEach(function(id){ var b=$(id); if(b) b.addEventListener("click", fakeProgress); });

  /* ===== Run Grade from main flow ===== */
  function gradeFromMain(){
    var v=values();
    var cats=categoryScores(v);
    openReport(v,cats);
  }

  /* ===== Grade trigger used above ===== */
  // already wired via gradeNow()

})(); // end IIFE
</script>
</body>
</html>


